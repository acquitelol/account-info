function S(o){window.enmity.plugins.registerPlugin(o)}window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const y=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function b(...o){return window.enmity.modules.getByProps(...o)}window.enmity.modules.common;function T(o){return window.enmity.patcher.create(o)}var C="DoubleTapToEdit",L="0.1.0",_="Allows you to Double Tap on a message to Edit it.",x=[{name:"acquite",id:"581573474296791211"}],A={name:C,version:L,description:_,authors:x};const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl,e.ScrollView,e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable,e.View,e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio;const v=e.FormRow;e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;function f(o,i,n,t){window.enmity.clyde.sendReply(o,i,n,t)}async function $(o){const i=`https://api.github.com/users/${o}`,n=await(await fetch(i)).json();if(n!=null&&n.message)return{title:"Error :(",description:n.message,color:16711680};const{name:t,html_url:c,bio:h,avatar_url:u,public_repos:m,public_gists:r,followers:w,following:s,id:a,created_at:l}=n;var d=new Date(l).getTime()/1e3;return{type:"rich",color:39423,title:t,url:c,description:h,thumbnail:{proxy_url:u,url:u,width:512,height:512},fields:[{name:"Created At",value:`<t:${d}:f>`,inline:!0},{name:"Public Repos",value:`${m}`,inline:!0},{name:"Public gists",value:`${r}`,inline:!0},{name:"Followers",value:`${w}`,inline:!0},{name:"Following",value:`${s}`,inline:!0}],timestamp:new Date,footer:{text:a}}}async function P(o,i){const n=`https://api.github.com/repos/${o}/${i}`,t=await(await fetch(n)).json();if(t!=null&&t.message)return{title:"Error :(",description:t.message,color:16711680};const{name:c,html_url:h,description:u,owner:m,created_at:r,updated_at:w,language:s,topics:a,subscribers_count:l,id:d}=t;var p=new Date(r).getTime()/1e3,F=new Date(w).getTime()/1e3;return{type:"rich",color:39423,title:c,url:h,description:u,thumbnail:{proxy_url:m.avatar_url,url:m.avatar_url,width:512,height:512},fields:[{name:"Created At",value:`<t:${p}:f>`,inline:!0},{name:"Updated At",value:`<t:${F}:f>`,inline:!0},{name:"Language",value:`${s}`,inline:!0},{name:"Topics",value:`${a.length>0?a.join(", "):"None"}`,inline:!0},{name:"Subscribers",value:`${l}`,inline:!0}],timestamp:new Date,footer:{text:d}}}const g=T("double-tap-to-edit"),R=b("openLazy","hideActionSheet"),k=b("getLastSelectedChannelId"),D={...A,onStart(){const o=g.before(R,"openLazy",({hideActionSheet:i},[n,t])=>{t==="LongPressUrl"&&n.then(c=>{g.after(c,"default",(h,u,m)=>{const r=m.props.children[1].props.children,w=m.props.children[0].props.title,s=k.getChannelId(),a=/^https?:\/\/(www\.)?github.com\/([\w.-]+)\/?(([\w.-]+)?)/.exec(w);if(!a)return;const[,,l,d]=a;d&&l&&r.unshift(y.createElement(v,{label:"View Repo Stats",onPress:()=>{P(l,d).then(p=>{f(s!=null?s:"0",{embeds:[p]},"Github","https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png")}),i()}})),l&&r.unshift(y.createElement(v,{label:"View Profile Stats",onPress:()=>{$(l).then(p=>{f(s!=null?s:"0",{embeds:[p]},"Github","https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png")}),i()}})),m.props.children[1].props.children=r}),o()})})},onStop(){document.removeEventListener("dblclick",doubleclickFunc),g.unpatchAll()}};S(D);
