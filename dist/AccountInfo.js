const h=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const e=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const d=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const U=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const _=window.enmity.modules.common.Moment,{components:n}=window.enmity;n.Alert,n.Button,n.FlatList,n.Image,n.ImageBackground,n.KeyboardAvoidingView,n.Modal;const N=n.Pressable;n.RefreshControl;const ne=n.ScrollView;n.SectionList,n.StatusBar,n.StyleSheet,n.Switch;const P=n.Text;n.TextInput,n.TouchableHighlight,n.TouchableOpacity,n.TouchableWithoutFeedback,n.Touchable;const $=n.View;n.VirtualizedList,n.Form,n.FormArrow,n.FormCTA,n.FormCTAButton,n.FormCardSection,n.FormCheckbox;const E=n.FormDivider;n.FormHint,n.FormIcon,n.FormInput,n.FormLabel,n.FormRadio;const a=n.FormRow,L=n.FormSection;n.FormSelect,n.FormSubLabel;const A=n.FormSwitch;n.FormTernaryCheckBox,n.FormText,n.FormTextColors,n.FormTextSizes;function oe(t){window.enmity.plugins.registerPlugin(t)}function r(t){return window.enmity.assets.getIDByName(t)}const b={byProps:(...t)=>window.enmity.modules.filters.byProps(...t),byName:(t,l)=>window.enmity.modules.filters.byName(t,l),byTypeName:(t,l)=>window.enmity.modules.filters.byTypeName(t,l),byDisplayName:(t,l)=>window.enmity.modules.filters.byDisplayName(t,l)};function j(...t){return window.enmity.modules.bulk(...t)}function le(...t){return window.enmity.modules.getByProps(...t)}window.enmity.modules.common;function z(t,l,o){return window.enmity.utilities.findInReactTree(t,l,o)}function ae(t){return window.enmity.patcher.create(t)}var ie="AccountInfo",O="1.7.0",re="Shows Account Information and Account Assets.",G="development",ce=[{name:"acquite",id:"581573474296791211"}],me="#ff1f84",se={name:ie,version:O,description:re,release:G,authors:ce,color:me};const[ue,de]=j(b.byProps("transitionToGuild"),b.byProps("setString"));var pe=({settings:t})=>{const l=r("ic_selection_checked_24px"),o=U.createThemedStyleSheet({icon:{color:h.ThemeColorMap.INTERACTIVE_NORMAL}});return e.createElement(e.Fragment,null,e.createElement(ne,null,e.createElement(L,{title:"Enable Account Date Information"},e.createElement(a,{label:"Time of Creation",subLabel:"Show when an account was Created",leading:e.createElement(a.Icon,{style:o.icon,source:r("ic_header_members_add_24px")}),trailing:e.createElement(A,{value:t.getBoolean("createBtn",!0),onValueChange:()=>{t.toggle("createBtn",!0),d.open({content:`Successfully ${t.getBoolean("createBtn",!0)?"enabled":"disabled"} time of Account Creation.`,source:l})}})}),e.createElement(E,null),e.createElement(a,{label:"Time of Joining Server",subLabel:"Show when an account joined a server",leading:e.createElement(a.Icon,{style:o.icon,source:r("ic_leave_24px")}),trailing:e.createElement(A,{value:t.getBoolean("joinBtn",!0),onValueChange:()=>{t.toggle("joinBtn",!0),d.open({content:`Successfully ${t.getBoolean("joinBtn",!0)?"enabled":"disabled"} time of Joining Server.`,source:l})}})})),e.createElement(E,null),e.createElement(L,{title:"Enable Dedicated Buttons"},e.createElement(a,{label:"Profile Picture",subLabel:"Show dedicated button to view a user's PFP.",leading:e.createElement(a.Icon,{style:o.icon,source:r("img_nitro_profile_banner")}),trailing:e.createElement(A,{value:t.getBoolean("pfpBtn",!1),onValueChange:()=>{t.toggle("pfpBtn",!1),d.open({content:`Successfully ${t.getBoolean("pfpBtn",!1)?"enabled":"disabled"} dedicated PFP Button.`,source:l})}})}),e.createElement(E,null),e.createElement(a,{label:"Status",subLabel:"Show dedicated button to copy a user's Status",leading:e.createElement(a.Icon,{style:o.icon,source:r("ic_passport_24px")}),trailing:e.createElement(A,{value:t.getBoolean("statusBtn",!1),onValueChange:()=>{t.toggle("statusBtn",!1),d.open({content:`Successfully ${t.getBoolean("statusBtn",!1)?"enabled":"disabled"} dedicated Status Button.`,source:l})}})})),e.createElement(E,null),e.createElement(L,{title:"Disable Entire Plugin"},e.createElement(a,{label:"Disable Plugin",leading:e.createElement(a.Icon,{style:o.icon,source:r("ic_rulebook_16px")}),trailing:e.createElement(A,{value:t.getBoolean("masterDisable",!1),onValueChange:()=>{t.toggle("masterDisable",!1),d.open({content:`Successfully ${t.getBoolean("masterDisable",!1)?"disabled":"enabled"} AccountInfo.`,source:l})}})})),e.createElement(E,null),e.createElement(L,{title:"Source Code"},e.createElement(a,{label:"Download",subLabel:"Copy the link of the plugin to Clipboard.",leading:e.createElement(a.Icon,{style:o.icon,source:r("toast_copy_link")}),trailing:a.Arrow,onPress:()=>{de.setString("https://raw.githubusercontent.com/acquitelol/account-info/main/dist/AccountInfo.js"),d.open({content:"Copied to clipboard",source:r("pending-alert")})}}),e.createElement(a,{label:"Source",subLabel:"Open the Repo of the Plugin Externally",leading:e.createElement(a.Icon,{style:o.icon,source:r("ic_leave_stage")}),trailing:a.Arrow,onPress:()=>{ue.openURL("https://github.com/acquitelol/account-info")}})),e.createElement(a,{label:`Plugin Version: ${O}
Release Channel: ${G}`})))};function p(t,l,o){return window.enmity.settings.getBoolean(t,l,o)}function ge(t,l,o){window.enmity.settings.toggle(t,l,o)}const[H,we,ye,R,J,be,Y]=j(b.byDisplayName("UserProfileHeader",!1),b.byProps("getMember"),b.byProps("getGuild"),b.byProps("transitionToGuild"),b.byProps("setString"),b.byName("HeaderAvatar",!1),b.byName("ProfileBanner",!1)),B=ae("account-info"),fe=le("getStatus","getState"),Ee={...se,onStart(){B.instead(H,"default",(l,o,i)=>{var g,w,m,S;let s=p("AccountInfo","pfpBtn",!1),y=p("AccountInfo","statusBtn",!1),v=p("AccountInfo","createBtn",!0),D=p("AccountInfo","joinBtn",!0),q=p("AccountInfo","masterDisable",!1);const[{user:c,channel:I,type:K,bannerSource:Se}]=o;if(K!==0)return i.apply(l,o);const u=U.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:h.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:h.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:h.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:h.ThemeColorMap.TEXT_MUTED},icon:{color:h.ThemeColorMap.INTERACTIVE_NORMAL}}),x=r("img_nitro_profile_banner"),W=r("pending-alert"),X=r("toast_copy_link"),k=r("ic_header_members_add_24px"),V=r("ic_leave_24px"),F=I==null?void 0:I.guild_id,f=F&&we.getMember(I.guild_id,c.id),M=F&&ye.getGuild(I.guild_id),C=F?((g=f==null?void 0:f.getAvatarURL)==null?void 0:g.call(f,!1,4096,!0))||((w=c==null?void 0:c.getAvatarURL)==null?void 0:w.call(c,!1,4096,!0)):(m=c==null?void 0:c.getAvatarURL)==null?void 0:m.call(c,!1,4096,!0);if(!C)return i.apply(l,o);const Q=c.discriminator%5,Z=typeof C=="number"?`https://cdn.discordapp.com/embed/avatars/${Q}.png`:C==null?void 0:C.replace(".webp",".png"),ee=t(),T=fe.getActivities(c.id).find(te=>te.type===4);return q?e.createElement(e.Fragment,null,i.apply(l,o)):e.createElement(e.Fragment,null,i.apply(l,o),e.createElement($,{style:u.container},v||D?e.createElement(e.Fragment,null,e.createElement(P,{style:u.header},"Account Information"),e.createElement($,{style:u.information},v&&e.createElement(e.Fragment,null,e.createElement(a,{label:"Created",leading:e.createElement(a.Icon,{style:u.icon,source:k}),onPress:()=>{d.open({content:_(c.createdAt).format("LLL"),source:k})},trailing:()=>e.createElement(P,{style:u.item},_(c.createdAt).fromNow())})),v&&D&&F&&f&&e.createElement(E,null),D&&F&&f&&e.createElement(e.Fragment,null,e.createElement(a,{label:`Joined ${(S=M==null?void 0:M.name)!=null?S:""}`,leading:e.createElement(a.Icon,{style:u.icon,source:V}),onPress:()=>{d.open({content:_(f.joinedAt).format("LLL"),source:V})},trailing:()=>e.createElement(P,{style:u.item},_(f.joinedAt).fromNow())})))):e.createElement(e.Fragment,null),s||y?e.createElement(e.Fragment,null,e.createElement(P,{style:u.header},"Account Assets"),e.createElement($,{style:u.information},s&&e.createElement(a,{label:`View ${c.username}'s Profile Picture`,leading:e.createElement(a.Icon,{style:u.icon,source:x}),trailing:e.createElement(e.Fragment,null,e.createElement(A,{value:p("AccountInfo","pfpBtn",!0),onValueChange:()=>{ge("AccountInfo","pfpBtn",!0),d.open({content:`Switched to ${p("AccountInfo","pfpBtn",!0)?"banner":"profile picture"} link.`,source:x})}})),onPress:()=>{p("AccountInfo","pfpBtn",!0)?R.openURL(Z):R.openURL(ee)}}),s&&y&&e.createElement(E,null),T&&y&&e.createElement(e.Fragment,null,e.createElement(a,{label:`Copy ${c.username}'s Status`,leading:e.createElement(a.Icon,{style:u.icon,source:X}),trailing:a.Arrow,onPress:()=>{J.setString(`${T.emoji.name?`:${T.emoji.name}:`:""} ${T.state?T.state:""}`),d.open({content:"Copied to clipboard",source:W})}})))):e.createElement(e.Fragment,null)))}),B.after(be,"default",(l,[{user:o}],i)=>{var g;let w=p("AccountInfo","pfpBtn",!1);const m=(g=o==null?void 0:o.getAvatarURL)==null?void 0:g.call(o,!1,4096,!0);if(!m)return i;const S=o.discriminator%5,s=typeof m=="number"?`https://cdn.discordapp.com/embed/avatars/${S}.png`:m==null?void 0:m.replace(".webp",".png");return w?e.createElement(e.Fragment,null,i):e.createElement(N,{onPress:()=>R.openURL(s)},i)}),B.after(Y,"default",(l,[{bannerSource:o}],i)=>{let g=p("AccountInfo","pfpBtn",!1);if(typeof(o==null?void 0:o.uri)!="string"||!i)return i;const w=o.uri.replace(/(?:\?size=\d{3,4})?$/,"?size=4096").replace(".webp",".png");return g?e.createElement(e.Fragment,null,i):e.createElement(N,{onPress:()=>R.openURL(w)},i)});const t=B.after(Y,"default",(l,[{bannerSource:o}],i)=>typeof(o==null?void 0:o.uri)!="string"||!i?i:o.uri.replace(/(?:\?size=\d{3,4})?$/,"?size=4096").replace(".webp",".png"));B.after(H,"default",(l,o,i)=>{const g=z(i,s=>{var y;return(y=s==null?void 0:s.props)==null?void 0:y.customStatusActivity});if(!g)return i;const w=z(i,s=>{var y,v;return(v=(y=s==null?void 0:s[2])==null?void 0:y.props)==null?void 0:v.customStatusActivity});if(!w||p("AccountInfo","statusBtn",!1))return i;const m=w[2].props.customStatusActivity,S=r("pending-alert");w[2]=e.createElement(N,{onPress:()=>{J.setString(`${m.emoji.name?`:${m.emoji.name}:`:""} ${m.state?m.state:""}`),d.open({content:"Copied to clipboard",source:S})}},g)})},onStop(){B.unpatchAll()},getSettingsPanel({settings:t}){return e.createElement(pe,{settings:t})}};oe(Ee);
