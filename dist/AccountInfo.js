const f=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const e=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const w=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const _=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const{components:t}=window.enmity;t.Alert,t.Button,t.FlatList,t.Image,t.ImageBackground,t.KeyboardAvoidingView,t.Modal;const P=t.Pressable;t.RefreshControl;const W=t.ScrollView;t.SectionList,t.StatusBar,t.StyleSheet,t.Switch;const j=t.Text;t.TextInput,t.TouchableHighlight,t.TouchableOpacity,t.TouchableWithoutFeedback,t.Touchable;const L=t.View;t.VirtualizedList,t.Form,t.FormArrow,t.FormCTA,t.FormCTAButton,t.FormCardSection,t.FormCheckbox;const F=t.FormDivider;t.FormHint,t.FormIcon,t.FormInput,t.FormLabel,t.FormRadio;const r=t.FormRow,B=t.FormSection;t.FormSelect,t.FormSubLabel;const C=t.FormSwitch;t.FormTernaryCheckBox,t.FormText,t.FormTextColors,t.FormTextSizes;function q(n){window.enmity.plugins.registerPlugin(n)}function c(n){return window.enmity.assets.getIDByName(n)}const y={byProps:(...n)=>window.enmity.modules.filters.byProps(...n),byName:(n,i)=>window.enmity.modules.filters.byName(n,i),byTypeName:(n,i)=>window.enmity.modules.filters.byTypeName(n,i),byDisplayName:(n,i)=>window.enmity.modules.filters.byDisplayName(n,i)};function $(...n){return window.enmity.modules.bulk(...n)}function G(...n){return window.enmity.modules.getByProps(...n)}window.enmity.modules.common;function D(n,i,o){return window.enmity.utilities.findInReactTree(n,i,o)}function Y(n){return window.enmity.patcher.create(n)}var K="AccountInfo",N="1.3.6",X="Shows Account Information and Account Assets.",k="stable",J=[{name:"acquite",id:"581573474296791211"}],Q="#ff1f84",Z={name:K,version:N,description:X,release:k,authors:J,color:Q};const[ee,te]=$(y.byProps("transitionToGuild"),y.byProps("setString"));var ne=({settings:n})=>{const i=c("ic_selection_checked_24px"),o=_.createThemedStyleSheet({icon:{color:f.ThemeColorMap.INTERACTIVE_NORMAL}});return e.createElement(e.Fragment,null,e.createElement(W,null,e.createElement(B,{title:"Enable Dedicated Buttons"},e.createElement(r,{label:"Assets",subLabel:"Show dedicated button to view Account Assets",leading:e.createElement(r.Icon,{style:o.icon,source:c("img_nitro_profile_banner")}),trailing:e.createElement(C,{value:n.getBoolean("pfpBtn",!1),onValueChange:()=>{n.toggle("pfpBtn",!1),w.open({content:`Successfully ${n.getBoolean("pfpBtn",!1)?"enabled":"disabled"} dedicated Assets Button.`,source:i})}})}),e.createElement(F,null),e.createElement(r,{label:"Status",subLabel:"Show dedicated button to copy a user's Status",leading:e.createElement(r.Icon,{style:o.icon,source:c("ic_passport_24px")}),trailing:e.createElement(C,{value:n.getBoolean("statusBtn",!1),onValueChange:()=>{n.toggle("statusBtn",!1),w.open({content:`Successfully ${n.getBoolean("statusBtn",!1)?"enabled":"disabled"} dedicated Status Button.`,source:i})}})})),e.createElement(F,null),e.createElement(B,{title:"Disable Entire Plugin"},e.createElement(r,{label:"Disable Plugin",leading:e.createElement(r.Icon,{style:o.icon,source:c("ic_rulebook_16px")}),trailing:e.createElement(C,{value:n.getBoolean("masterDisable",!1),onValueChange:()=>{n.toggle("masterDisable",!1),w.open({content:`Successfully ${n.getBoolean("masterDisable",!1)?"disabled":"enabled"} AccountInfo.`,source:i})}})})),e.createElement(F,null),e.createElement(B,{title:"Source Code"},e.createElement(r,{label:"Download",subLabel:"Copy the link of the plugin to Clipboard",leading:e.createElement(r.Icon,{style:o.icon,source:c("toast_copy_link")}),trailing:r.Arrow,onPress:()=>{te.setString("https://raw.githubusercontent.com/acquitelol/account-info/main/dist/AccountInfo.js"),w.open({content:"Copied to clipboard",source:c("pending-alert")})}}),e.createElement(r,{label:"Source",subLabel:"Open the Repo of the Plugin Externally",leading:e.createElement(r.Icon,{style:o.icon,source:c("ic_leave_stage")}),trailing:r.Arrow,onPress:()=>{ee.openURL("https://github.com/acquitelol/account-info")}})),e.createElement(r,{label:`Plugin Version: ${N}
Release Channel: ${k}`})))};function oe(n,i,o){window.enmity.settings.set(n,i,o)}function m(n,i,o){return window.enmity.settings.getBoolean(n,i,o)}function ie(n,i,o){window.enmity.settings.toggle(n,i,o)}const[x,E,V,re,le]=$(y.byName("UserProfileHeader",!1),y.byProps("transitionToGuild"),y.byProps("setString"),y.byName("HeaderAvatar",!1),y.byName("ProfileBanner",!1)),A=Y("account-info"),ae=G("getStatus","getState"),se={...Z,onStart(){A.after(x,"default",(n,i,o)=>{var u;const[d,p]=e.useState("Profile Picture");let a=m("AccountInfo","pfpBtn",!1),l=m("AccountInfo","statusBtn",!1),g=m("AccountInfo","masterDisable",!1);const[{user:s,type:M}]=i;try{var v=i[0].displayProfile.banner}catch{oe("AccountInfo","pfpToggle",!0)}if(M!==0)return o;const b=_.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:f.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:f.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:f.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:f.ThemeColorMap.TEXT_MUTED},icon:{color:f.ThemeColorMap.INTERACTIVE_NORMAL},switchArrow:{marginRight:15.5}}),I=c("img_nitro_profile_banner"),U=c("pending-alert"),O=c("toast_copy_link"),h=(u=s==null?void 0:s.getAvatarURL)==null?void 0:u.call(s,!1,4096,!0);if(!h)return o;const z=s.discriminator%5;let H=h.split("/")[5].split(".")[0];const R=typeof h=="number"?`https://cdn.discordapp.com/embed/avatars/${z}.png`:h==null?void 0:h.replace(".webp",H.startsWith("a_")?".gif":".png"),S=ae.getActivities(s.id).find(T=>T.type===4);return g?e.createElement(e.Fragment,null,o):e.createElement(e.Fragment,null,o,a||l?e.createElement(e.Fragment,null,e.createElement(L,{style:b.container},a||S&&l?e.createElement(e.Fragment,null,e.createElement(j,{style:b.header},"Account Assets")):e.createElement(e.Fragment,null),e.createElement(L,{style:b.information},a&&e.createElement(e.Fragment,null,e.createElement(r,{label:`View ${s.username}'s ${d}`,leading:e.createElement(r.Icon,{style:b.icon,source:I}),trailing:r.Arrow,onPress:()=>{v?m("AccountInfo","pfpToggle",!0)?E.openURL(R):E.openURL(`https://cdn.discordapp.com/banners/${s.id}/${v}.${v.startsWith("a_")?"gif":"png"}?size=4096`):E.openURL(R)},onLongPress:v?()=>{ie("AccountInfo","pfpToggle",!0),w.open({content:`Switched to ${m("AccountInfo","pfpToggle",!0)?"profile picture":"banner"} link.`,source:I}),p(d=="Profile Picture"?"Banner":"Profile Picture")}:()=>{w.open({content:`${s.username} does not have a banner.`,source:I})}})),a&&l&&e.createElement(F,null),S&&l&&e.createElement(e.Fragment,null,e.createElement(r,{label:`Copy ${s.username}'s Status`,leading:e.createElement(r.Icon,{style:b.icon,source:O}),trailing:r.Arrow,onPress:()=>{try{var T=S.emoji.name}catch{}V.setString(`${T?`:${T}:`:""} ${S.state?S.state:""}`),w.open({content:"Copied to clipboard",source:U})}}))))):e.createElement(e.Fragment,null))}),A.after(re,"default",(n,[{user:i}],o)=>{var u;let d=m("AccountInfo","pfpBtn",!1),p=m("AccountInfo","masterDisable",!1);const a=(u=i==null?void 0:i.getAvatarURL)==null?void 0:u.call(i,!1,4096,!0);if(!a)return o;const l=i.discriminator%5;let g=a.split("/")[5].split(".")[0];const s=typeof a=="number"?`https://cdn.discordapp.com/embed/avatars/${l}.png`:a==null?void 0:a.replace(".webp",g.startsWith("a_")?".gif":".png");return p||d?e.createElement(e.Fragment,null,o):e.createElement(P,{onPress:()=>E.openURL(s)},o)}),A.after(le,"default",(n,[{bannerSource:i}],o)=>{let u=m("AccountInfo","pfpBtn",!1),d=m("AccountInfo","masterDisable",!1);if(typeof(i==null?void 0:i.uri)!="string"||!o)return o;let p=i.uri.split("/"),a=p[5].split(".")[0];const l=`https://cdn.discordapp.com/banners/${p[4]}/${a}.${a.startsWith("a_")?"gif":"png"}?size=4096`;return d||u?e.createElement(e.Fragment,null,o):e.createElement(P,{onPress:()=>E.openURL(l)},o)}),A.after(x,"default",(n,i,o)=>{const u=D(o,l=>{var g;return(g=l==null?void 0:l.props)==null?void 0:g.customStatusActivity});if(!u)return o;const d=D(o,l=>{var g,s;return(s=(g=l==null?void 0:l[2])==null?void 0:g.props)==null?void 0:s.customStatusActivity});if(!d||m("AccountInfo","statusBtn",!1)||m("AccountInfo","masterDisable",!1))return o;const p=d[2].props.customStatusActivity,a=c("pending-alert");d[2]=e.createElement(P,{onPress:()=>{try{var l=p.emoji.name}catch{}V.setString(`${l?`:${l}:`:""} ${p.state?p.state:""}`),w.open({content:"Copied to clipboard",source:a})}},u)})},onStop(){A.unpatchAll()},getSettingsPanel({settings:n}){return e.createElement(ne,{settings:n})}};q(se);
