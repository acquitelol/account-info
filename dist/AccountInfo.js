const S=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const e=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const u=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const k=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const P=window.enmity.modules.common.Moment,{components:t}=window.enmity;t.Alert,t.Button,t.FlatList,t.Image,t.ImageBackground,t.KeyboardAvoidingView,t.Modal;const M=t.Pressable;t.RefreshControl;const ee=t.ScrollView;t.SectionList,t.StatusBar,t.StyleSheet,t.Switch;const L=t.Text;t.TextInput,t.TouchableHighlight,t.TouchableOpacity,t.TouchableWithoutFeedback,t.Touchable;const N=t.View;t.VirtualizedList,t.Form,t.FormArrow,t.FormCTA,t.FormCTAButton,t.FormCardSection,t.FormCheckbox;const f=t.FormDivider;t.FormHint,t.FormIcon,t.FormInput,t.FormLabel,t.FormRadio;const o=t.FormRow,R=t.FormSection;t.FormSelect,t.FormSubLabel;const T=t.FormSwitch;t.FormTernaryCheckBox,t.FormText,t.FormTextColors,t.FormTextSizes;function te(n){window.enmity.plugins.registerPlugin(n)}function i(n){return window.enmity.assets.getIDByName(n)}const y={byProps:(...n)=>window.enmity.modules.filters.byProps(...n),byName:(n,a)=>window.enmity.modules.filters.byName(n,a),byTypeName:(n,a)=>window.enmity.modules.filters.byTypeName(n,a),byDisplayName:(n,a)=>window.enmity.modules.filters.byDisplayName(n,a)};function j(...n){return window.enmity.modules.bulk(...n)}function ne(...n){return window.enmity.modules.getByProps(...n)}window.enmity.modules.common;function oe(n,a,l){return window.enmity.utilities.findInReactTree(n,a,l)}function le(n){return window.enmity.patcher.create(n)}var ae="AccountInfo",U="1.6.8",ie="Shows Account Information and Account Assets.",O="development",re=[{name:"acquite",id:"581573474296791211"}],ce="#ff1f84",me={name:ae,version:U,description:ie,release:O,authors:re,color:ce};const[se,ue]=j(y.byProps("transitionToGuild"),y.byProps("setString"));var de=({settings:n})=>{const a=i("ic_selection_checked_24px"),l=k.createThemedStyleSheet({icon:{color:S.ThemeColorMap.INTERACTIVE_NORMAL}});return e.createElement(e.Fragment,null,e.createElement(ee,null,e.createElement(R,{title:"Enable Account Date Information"},e.createElement(o,{label:"Time of Creation",subLabel:"Show when an account was Created",leading:e.createElement(o.Icon,{style:l.icon,source:i("ic_header_members_add_24px")}),trailing:e.createElement(T,{value:n.getBoolean("createBtn",!0),onValueChange:()=>{n.toggle("createBtn",!0),u.open({content:`Successfully ${n.getBoolean("createBtn",!0)?"enabled":"disabled"} time of Account Creation.`,source:a})}})}),e.createElement(f,null),e.createElement(o,{label:"Time of Joining Server",subLabel:"Show when an account joined a server",leading:e.createElement(o.Icon,{style:l.icon,source:i("ic_leave_24px")}),trailing:e.createElement(T,{value:n.getBoolean("joinBtn",!0),onValueChange:()=>{n.toggle("joinBtn",!0),u.open({content:`Successfully ${n.getBoolean("joinBtn",!0)?"enabled":"disabled"} time of Joining Server.`,source:a})}})})),e.createElement(f,null),e.createElement(R,{title:"Enable Dedicated Buttons"},e.createElement(o,{label:"Profile Picture",subLabel:"Show dedicated button to view a user's PFP.",leading:e.createElement(o.Icon,{style:l.icon,source:i("img_nitro_profile_banner")}),trailing:e.createElement(T,{value:n.getBoolean("pfpBtn",!1),onValueChange:()=>{n.toggle("pfpBtn",!1),u.open({content:`Successfully ${n.getBoolean("pfpBtn",!1)?"enabled":"disabled"} dedicated PFP Button.`,source:a})}})}),e.createElement(f,null),e.createElement(o,{label:"Status",subLabel:"Show dedicated button to copy a user's Status",leading:e.createElement(o.Icon,{style:l.icon,source:i("ic_passport_24px")}),trailing:e.createElement(T,{value:n.getBoolean("statusBtn",!1),onValueChange:()=>{n.toggle("statusBtn",!1),u.open({content:`Successfully ${n.getBoolean("statusBtn",!1)?"enabled":"disabled"} dedicated Status Button.`,source:a})}})})),e.createElement(f,null),e.createElement(R,{title:"Disable Entire Plugin"},e.createElement(o,{label:"Disable Plugin",leading:e.createElement(o.Icon,{style:l.icon,source:i("ic_rulebook_16px")}),trailing:e.createElement(T,{value:n.getBoolean("masterDisable",!1),onValueChange:()=>{n.toggle("masterDisable",!1),u.open({content:`Successfully ${n.getBoolean("masterDisable",!1)?"disabled":"enabled"} AccountInfo.`,source:a})}})})),e.createElement(f,null),e.createElement(R,{title:"Source Code"},e.createElement(o,{label:"Download",subLabel:"Copy the link of the plugin to Clipboard.",leading:e.createElement(o.Icon,{style:l.icon,source:i("toast_copy_link")}),trailing:o.Arrow,onPress:()=>{ue.setString("https://raw.githubusercontent.com/acquitelol/account-info/main/dist/AccountInfo.js"),u.open({content:"Copied to clipboard",source:i("pending-alert")})}}),e.createElement(o,{label:"Source",subLabel:"Open the Repo of the Plugin Externally",leading:e.createElement(o.Icon,{style:l.icon,source:i("ic_leave_stage")}),trailing:o.Arrow,onPress:()=>{se.openURL("https://github.com/acquitelol/account-info")}})),e.createElement(o,{label:`Plugin Version: ${U}
Release Channel: ${O}`})))};function E(n,a,l){return window.enmity.settings.getBoolean(n,a,l)}const[G,ge,pe,H,J,we]=j(y.byDisplayName("UserProfileHeader",!1),y.byProps("getMember"),y.byProps("getGuild"),y.byProps("transitionToGuild"),y.byProps("setString"),y.byName("HeaderAvatar",!1)),C=le("account-info"),Y=ne("getStatus","getState"),ye={...me,onStart(){C.instead(G,"default",(a,l,s)=>{var g,h,r,d;let p=E("AccountInfo","pfpBtn",!1),v=E("AccountInfo","statusBtn",!1),A=E("AccountInfo","createBtn",!0),w=E("AccountInfo","joinBtn",!0),D=E("AccountInfo","masterDisable",!1);const[{user:c,channel:_,type:q}]=l;if(q!==0)return s.apply(a,l);const m=k.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:S.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:S.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:S.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:S.ThemeColorMap.TEXT_MUTED},icon:{color:S.ThemeColorMap.INTERACTIVE_NORMAL}}),z=i("img_nitro_profile_banner"),K=i("pending-alert"),W=i("toast_copy_link"),x=i("ic_header_members_add_24px"),$=i("ic_leave_24px"),B=_==null?void 0:_.guild_id,b=B&&ge.getMember(_.guild_id,c.id),V=B&&pe.getGuild(_.guild_id),I=B?((g=b==null?void 0:b.getAvatarURL)==null?void 0:g.call(b,!1,4096,!0))||((h=c==null?void 0:c.getAvatarURL)==null?void 0:h.call(c,!1,4096,!0)):(r=c==null?void 0:c.getAvatarURL)==null?void 0:r.call(c,!1,4096,!0);if(!I)return s.apply(a,l);const X=c.discriminator%5,Q=typeof I=="number"?`https://cdn.discordapp.com/embed/avatars/${X}.png`:I==null?void 0:I.replace(".webp",".png"),F=Y.getActivities(c.id).find(Z=>Z.type===4);return D?e.createElement(e.Fragment,null,s.apply(a,l)):e.createElement(e.Fragment,null,s.apply(a,l),e.createElement(N,{style:m.container},A||w?e.createElement(e.Fragment,null,e.createElement(L,{style:m.header},"Account Information"),e.createElement(N,{style:m.information},A&&e.createElement(e.Fragment,null,e.createElement(o,{label:"Created",leading:e.createElement(o.Icon,{style:m.icon,source:x}),onPress:()=>{u.open({content:P(c.createdAt).format("LLL"),source:x})},trailing:()=>e.createElement(L,{style:m.item},P(c.createdAt).fromNow())})),A&&w&&B&&b&&e.createElement(f,null),w&&B&&b&&e.createElement(e.Fragment,null,e.createElement(o,{label:`Joined ${(d=V==null?void 0:V.name)!=null?d:""}`,leading:e.createElement(o.Icon,{style:m.icon,source:$}),onPress:()=>{u.open({content:P(b.joinedAt).format("LLL"),source:$})},trailing:()=>e.createElement(L,{style:m.item},P(b.joinedAt).fromNow())})))):e.createElement(e.Fragment,null),p||v?e.createElement(e.Fragment,null,e.createElement(L,{style:m.header},"Account Assets"),e.createElement(N,{style:m.information},p&&e.createElement(o,{label:`View ${c.username}'s Profile Picture`,leading:e.createElement(o.Icon,{style:m.icon,source:z}),trailing:o.Arrow,onPress:()=>{H.openURL(Q)}}),p&&v&&e.createElement(f,null),F&&v&&e.createElement(e.Fragment,null,e.createElement(o,{label:`Copy ${c.username}'s Status`,leading:e.createElement(o.Icon,{style:m.icon,source:W}),trailing:o.Arrow,onPress:()=>{J.setString(`${F.emoji.name?`:${F.emoji.name}:`:""} ${F.state?F.state:""}`),u.open({content:"Copied to clipboard",source:K})}})))):e.createElement(e.Fragment,null)))}),C.after(we,"default",(a,[{user:l}],s)=>{var g;let h=E("AccountInfo","pfpBtn",!1);const r=(g=l==null?void 0:l.getAvatarURL)==null?void 0:g.call(l,!1,4096,!0);if(!r)return s;const d=l.discriminator%5,p=typeof r=="number"?`https://cdn.discordapp.com/embed/avatars/${d}.png`:r==null?void 0:r.replace(".webp",".png");return h?e.createElement(e.Fragment,null,s):e.createElement(M,{onPress:()=>H.openURL(p)},s)});const n=C.after(G,"default",(a,[{user:l}],s)=>{const g=oe(s,r=>{var d;return(d=r==null?void 0:r.props)==null?void 0:d.customStatusActivity}),h=r=>r?"exists":"doesnt exist";C.after(g,h(g),(r,[{user:d}],p)=>{let v=E("AccountInfo","statusBtn",!1);const A=i("pending-alert"),w=Y.getActivities(d.id).find(D=>D.type===4);return v?e.createElement(e.Fragment,null,p):e.createElement(e.Fragment,null,e.createElement(M,{onPress:()=>{J.setString(`${w.emoji.name?`:${w.emoji.name}:`:""} ${w.state?w.state:""}`),u.open({content:"Copied to clipboard",source:A})}},p))}),n()})},onStop(){C.unpatchAll()},getSettingsPanel({settings:n}){return e.createElement(de,{settings:n})}};te(ye);
