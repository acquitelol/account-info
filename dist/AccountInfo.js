const v=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const e=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const c=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const q=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const A=window.enmity.modules.common.Moment,{components:t}=window.enmity;t.Alert,t.Button,t.FlatList,t.Image,t.ImageBackground,t.KeyboardAvoidingView,t.Modal;const $=t.Pressable;t.RefreshControl;const Q=t.ScrollView;t.SectionList,t.StatusBar,t.StyleSheet,t.Switch;const F=t.Text;t.TextInput,t.TouchableHighlight,t.TouchableOpacity,t.TouchableWithoutFeedback,t.Touchable;const D=t.View;t.VirtualizedList,t.Form,t.FormArrow,t.FormCTA,t.FormCTAButton,t.FormCardSection,t.FormCheckbox;const B=t.FormDivider;t.FormHint,t.FormIcon,t.FormInput,t.FormLabel,t.FormRadio;const l=t.FormRow,R=t.FormSection;t.FormSelect,t.FormSubLabel;const S=t.FormSwitch;t.FormTernaryCheckBox,t.FormText,t.FormTextColors,t.FormTextSizes;function X(n){window.enmity.plugins.registerPlugin(n)}function d(n){return window.enmity.assets.getIDByName(n)}const g={byProps:(...n)=>window.enmity.modules.filters.byProps(...n),byName:(n,o)=>window.enmity.modules.filters.byName(n,o),byTypeName:(n,o)=>window.enmity.modules.filters.byTypeName(n,o),byDisplayName:(n,o)=>window.enmity.modules.filters.byDisplayName(n,o)};function Z(...n){return window.enmity.modules.bulk(...n)}function ee(...n){return window.enmity.modules.getByProps(...n)}window.enmity.modules.common;function te(n){return window.enmity.patcher.create(n)}var ne="AccountInfo",x="1.5.4",oe="Shows Account Information and Account Assets.",M="development",le=[{name:"acquite",id:"581573474296791211"}],ie="#ff1f84",me={name:ne,version:x,description:oe,release:M,authors:le,color:ie},ae=({settings:n})=>{const o=d("ic_selection_checked_24px");return e.createElement(e.Fragment,null,e.createElement(Q,null,e.createElement(R,{title:"Enable Account Date Information"},e.createElement(l,{label:"Time of Creation",trailing:e.createElement(S,{value:n.getBoolean("createBtn",!0),onValueChange:()=>{n.toggle("createBtn",!0),c.open({content:"Toggled Time of Creation",source:o})}})}),e.createElement(B,null),e.createElement(l,{label:"Time of Joining Server",trailing:e.createElement(S,{value:n.getBoolean("joinBtn",!0),onValueChange:()=>{n.toggle("joinBtn",!0),c.open({content:"Toggled Time of Joining Server",source:o})}})})),e.createElement(R,{title:"Enable Dedicated Buttons"},e.createElement(l,{label:"Profile Picture",trailing:e.createElement(S,{value:n.getBoolean("pfpBtn",!1),onValueChange:()=>{n.toggle("pfpBtn",!1),c.open({content:"Toggled Profile Picture Button",source:o})}})}),e.createElement(B,null),e.createElement(l,{label:"Status",trailing:e.createElement(S,{value:n.getBoolean("statusBtn",!1),onValueChange:()=>{n.toggle("statusBtn",!1),c.open({content:"Toggled Status Button",source:o})}})})),e.createElement(R,{title:"Disable Entire Plugin"},e.createElement(l,{label:"Disable Plugin",trailing:e.createElement(S,{value:n.getBoolean("masterDisable",!1),onValueChange:()=>{n.toggle("masterDisable",!1),c.open({content:`Successfully ${n.getBoolean("masterDisable",!1)?"disabled":"enabled"} AccountInfo}`,source:o})}})})),e.createElement(l,{label:`Plugin Version: ${x}
Release Channel: ${M}`})))};function w(n,o,i){return window.enmity.settings.getBoolean(n,o,i)}const[re,ce,se,k,j,ue,de]=Z(g.byDisplayName("UserProfileHeader",!1),g.byProps("getMember"),g.byProps("getGuild"),g.byProps("transitionToGuild"),g.byProps("setString"),g.byName("HeaderAvatar",!1),g.byProps("customStatusActivity")),C=te("account-info"),U=ee("getStatus","getState"),ge={...me,onStart(){C.instead(re,"default",(n,o,i)=>{var s,y,a,p;let f=w("AccountInfo","pfpBtn",!1),P=w("AccountInfo","statusBtn",!1),I=w("AccountInfo","createBtn",!0),L=w("AccountInfo","joinBtn",!0),G=w("AccountInfo","masterDisable",!1);const[{user:m,channel:h,type:H}]=o;if(H!==0)return i.apply(n,o);const r=q.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:v.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:v.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:v.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:v.ThemeColorMap.TEXT_MUTED},icon:{color:v.ThemeColorMap.INTERACTIVE_NORMAL}}),O=d("img_nitro_profile_banner"),z=d("pending-alert"),J=d("toast_copy_link"),_=d("ic_header_members_add_24px"),N=d("ic_leave_24px"),b=h==null?void 0:h.guild_id,u=b&&ce.getMember(h.guild_id,m.id),V=b&&se.getGuild(h.guild_id),T=b?((s=u==null?void 0:u.getAvatarURL)==null?void 0:s.call(u,!1,4096,!0))||((y=m==null?void 0:m.getAvatarURL)==null?void 0:y.call(m,!1,4096,!0)):(a=m==null?void 0:m.getAvatarURL)==null?void 0:a.call(m,!1,4096,!0);if(!T)return i.apply(n,o);const Y=m.discriminator%5,K=typeof T=="number"?`https://cdn.discordapp.com/embed/avatars/${Y}.png`:T==null?void 0:T.replace(".webp",".png"),E=U.getActivities(m.id).find(W=>W.type===4);return G?e.createElement(e.Fragment,null,i.apply(n,o)):e.createElement(e.Fragment,null,i.apply(n,o),e.createElement(D,{style:r.container},I||L?e.createElement(e.Fragment,null,e.createElement(F,{style:r.header},"Account Information"),e.createElement(D,{style:r.information},I&&e.createElement(e.Fragment,null,e.createElement(l,{label:"Created",leading:e.createElement(l.Icon,{style:r.icon,source:_}),onPress:()=>{c.open({content:A(m.createdAt).format("LLL"),source:_})},trailing:()=>e.createElement(F,{style:r.item},A(m.createdAt).fromNow())})),I&&L&&b&&u&&e.createElement(B,null),L&&b&&u&&e.createElement(e.Fragment,null,e.createElement(l,{label:`Joined ${(p=V==null?void 0:V.name)!=null?p:""}`,leading:e.createElement(l.Icon,{style:r.icon,source:N}),onPress:()=>{c.open({content:A(u.joinedAt).format("LLL"),source:N})},trailing:()=>e.createElement(F,{style:r.item},A(u.joinedAt).fromNow())})))):e.createElement(e.Fragment,null),f||P?e.createElement(e.Fragment,null,e.createElement(F,{style:r.header},"Account Assets"),e.createElement(D,{style:r.information},f&&e.createElement(l,{label:`View ${m.username}'s Profile Picture`,leading:e.createElement(l.Icon,{style:r.icon,source:O}),onPress:()=>{k.openURL(K)}}),f&&P&&e.createElement(B,null),E&&P&&e.createElement(e.Fragment,null,e.createElement(l,{label:`Copy ${m.username}'s Status`,leading:e.createElement(l.Icon,{style:r.icon,source:J}),onPress:()=>{j.setString(`${E.emoji.name?`:${E.emoji.name}:`:""} ${E.state?E.state:""}`),c.open({content:"Copied to clipboard",source:z})}})))):e.createElement(e.Fragment,null)))}),C.after(ue,"default",(n,[{user:o}],i)=>{var s;let y=w("AccountInfo","pfpBtn",!1);const a=(s=o==null?void 0:o.getAvatarURL)==null?void 0:s.call(o,!1,4096,!0);if(!a)return i;const p=o.discriminator%5,f=typeof a=="number"?`https://cdn.discordapp.com/embed/avatars/${p}.png`:a==null?void 0:a.replace(".webp",".png");return y?e.createElement(e.Fragment,null,i):e.createElement($,{onPress:()=>k.openURL(f)},i)}),C.after(de,"default",(n,[{user:o}],i)=>{let s=w("AccountInfo","statusBtn",!1);const y=d("pending-alert"),a=U.getActivities(o.id).find(p=>p.type===4);return s?e.createElement(e.Fragment,null,i):e.createElement($,{onPress:()=>{j.setString(`${a.emoji.name?`:${a.emoji.name}:`:""} ${a.state?a.state:""}`),c.open({content:"Copied to clipboard",source:y})}},i)})},onStop(){C.unpatchAll()},getSettingsPanel({settings:n}){return e.createElement(ae,{settings:n})}};X(ge);
