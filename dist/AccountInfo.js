const v=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const e=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const c=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const X=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const A=window.enmity.modules.common.Moment,{components:n}=window.enmity;n.Alert,n.Button,n.FlatList,n.Image,n.ImageBackground,n.KeyboardAvoidingView,n.Modal;const $=n.Pressable;n.RefreshControl;const Z=n.ScrollView;n.SectionList,n.StatusBar,n.StyleSheet,n.Switch;const F=n.Text;n.TextInput,n.TouchableHighlight,n.TouchableOpacity,n.TouchableWithoutFeedback,n.Touchable;const R=n.View;n.VirtualizedList,n.Form,n.FormArrow,n.FormCTA,n.FormCTAButton,n.FormCardSection,n.FormCheckbox;const B=n.FormDivider;n.FormHint,n.FormIcon,n.FormInput,n.FormLabel,n.FormRadio;const i=n.FormRow,D=n.FormSection;n.FormSelect,n.FormSubLabel;const S=n.FormSwitch;n.FormTernaryCheckBox,n.FormText,n.FormTextColors,n.FormTextSizes;function Q(t){window.enmity.plugins.registerPlugin(t)}function d(t){return window.enmity.assets.getIDByName(t)}const p={byProps:(...t)=>window.enmity.modules.filters.byProps(...t),byName:(t,o)=>window.enmity.modules.filters.byName(t,o),byTypeName:(t,o)=>window.enmity.modules.filters.byTypeName(t,o),byDisplayName:(t,o)=>window.enmity.modules.filters.byDisplayName(t,o)};function ee(...t){return window.enmity.modules.bulk(...t)}function te(...t){return window.enmity.modules.getByProps(...t)}window.enmity.modules.common;function ne(t,o,l){return window.enmity.utilities.findInReactTree(t,o,l)}function oe(t){return window.enmity.patcher.create(t)}var le="AccountInfo",x="1.5.65",ie="Shows Account Information and Account Assets.",M="development",ae=[{name:"acquite",id:"581573474296791211"}],re="#ff1f84",me={name:le,version:x,description:ie,release:M,authors:ae,color:re},ce=({settings:t})=>{const o=d("ic_selection_checked_24px");return e.createElement(e.Fragment,null,e.createElement(Z,null,e.createElement(D,{title:"Enable Account Date Information"},e.createElement(i,{label:"Time of Creation",trailing:e.createElement(S,{value:t.getBoolean("createBtn",!0),onValueChange:()=>{t.toggle("createBtn",!0),c.open({content:"Toggled Time of Creation",source:o})}})}),e.createElement(B,null),e.createElement(i,{label:"Time of Joining Server",trailing:e.createElement(S,{value:t.getBoolean("joinBtn",!0),onValueChange:()=>{t.toggle("joinBtn",!0),c.open({content:"Toggled Time of Joining Server",source:o})}})})),e.createElement(D,{title:"Enable Dedicated Buttons"},e.createElement(i,{label:"Profile Picture",trailing:e.createElement(S,{value:t.getBoolean("pfpBtn",!1),onValueChange:()=>{t.toggle("pfpBtn",!1),c.open({content:"Toggled Profile Picture Button",source:o})}})}),e.createElement(B,null),e.createElement(i,{label:"Status",trailing:e.createElement(S,{value:t.getBoolean("statusBtn",!1),onValueChange:()=>{t.toggle("statusBtn",!1),c.open({content:"Toggled Status Button",source:o})}})})),e.createElement(D,{title:"Disable Entire Plugin"},e.createElement(i,{label:"Disable Plugin",trailing:e.createElement(S,{value:t.getBoolean("masterDisable",!1),onValueChange:()=>{t.toggle("masterDisable",!1),c.open({content:`Successfully ${t.getBoolean("masterDisable",!1)?"disabled":"enabled"} AccountInfo`,source:o})}})})),e.createElement(i,{label:`Plugin Version: ${x}
Release Channel: ${M}`})))};function g(t,o,l){return window.enmity.settings.getBoolean(t,o,l)}const[k,se,ue,j,U,de]=ee(p.byDisplayName("UserProfileHeader",!1),p.byProps("getMember"),p.byProps("getGuild"),p.byProps("transitionToGuild"),p.byProps("setString"),p.byName("HeaderAvatar",!1)),C=oe("account-info"),G=te("getStatus","getState"),ge=ne(k,t=>{var o;return(o=t==null?void 0:t.props)==null?void 0:o.customStatusActivity}),we={...me,onStart(){C.instead(k,"default",(t,o,l)=>{var s,w,r,y;let f=g("AccountInfo","pfpBtn",!1),P=g("AccountInfo","statusBtn",!1),I=g("AccountInfo","createBtn",!0),L=g("AccountInfo","joinBtn",!0),H=g("AccountInfo","masterDisable",!1);const[{user:a,channel:h,type:O}]=o;if(O!==0)return l.apply(t,o);const m=X.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:v.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:v.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:v.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:v.ThemeColorMap.TEXT_MUTED},icon:{color:v.ThemeColorMap.INTERACTIVE_NORMAL}}),Y=d("img_nitro_profile_banner"),z=d("pending-alert"),J=d("toast_copy_link"),_=d("ic_header_members_add_24px"),N=d("ic_leave_24px"),b=h==null?void 0:h.guild_id,u=b&&se.getMember(h.guild_id,a.id),V=b&&ue.getGuild(h.guild_id),T=b?((s=u==null?void 0:u.getAvatarURL)==null?void 0:s.call(u,!1,4096,!0))||((w=a==null?void 0:a.getAvatarURL)==null?void 0:w.call(a,!1,4096,!0)):(r=a==null?void 0:a.getAvatarURL)==null?void 0:r.call(a,!1,4096,!0);if(!T)return l.apply(t,o);const K=a.discriminator%5,q=typeof T=="number"?`https://cdn.discordapp.com/embed/avatars/${K}.png`:T==null?void 0:T.replace(".webp",".png"),E=G.getActivities(a.id).find(W=>W.type===4);return H?e.createElement(e.Fragment,null,l.apply(t,o)):e.createElement(e.Fragment,null,l.apply(t,o),e.createElement(R,{style:m.container},I||L?e.createElement(e.Fragment,null,e.createElement(F,{style:m.header},"Account Information"),e.createElement(R,{style:m.information},I&&e.createElement(e.Fragment,null,e.createElement(i,{label:"Created",leading:e.createElement(i.Icon,{style:m.icon,source:_}),onPress:()=>{c.open({content:A(a.createdAt).format("LLL"),source:_})},trailing:()=>e.createElement(F,{style:m.item},A(a.createdAt).fromNow())})),I&&L&&b&&u&&e.createElement(B,null),L&&b&&u&&e.createElement(e.Fragment,null,e.createElement(i,{label:`Joined ${(y=V==null?void 0:V.name)!=null?y:""}`,leading:e.createElement(i.Icon,{style:m.icon,source:N}),onPress:()=>{c.open({content:A(u.joinedAt).format("LLL"),source:N})},trailing:()=>e.createElement(F,{style:m.item},A(u.joinedAt).fromNow())})))):e.createElement(e.Fragment,null),f||P?e.createElement(e.Fragment,null,e.createElement(F,{style:m.header},"Account Assets"),e.createElement(R,{style:m.information},f&&e.createElement(i,{label:`View ${a.username}'s Profile Picture`,leading:e.createElement(i.Icon,{style:m.icon,source:Y}),onPress:()=>{j.openURL(q)}}),f&&P&&e.createElement(B,null),E&&P&&e.createElement(e.Fragment,null,e.createElement(i,{label:`Copy ${a.username}'s Status`,leading:e.createElement(i.Icon,{style:m.icon,source:J}),onPress:()=>{U.setString(`${E.emoji.name?`:${E.emoji.name}:`:""} ${E.state?E.state:""}`),c.open({content:"Copied to clipboard",source:z})}})))):e.createElement(e.Fragment,null)))}),C.after(de,"default",(t,[{user:o}],l)=>{var s;let w=g("AccountInfo","pfpBtn",!1);const r=(s=o==null?void 0:o.getAvatarURL)==null?void 0:s.call(o,!1,4096,!0);if(!r)return l;const y=o.discriminator%5,f=typeof r=="number"?`https://cdn.discordapp.com/embed/avatars/${y}.png`:r==null?void 0:r.replace(".webp",".png");return w?e.createElement(e.Fragment,null,l):e.createElement($,{onPress:()=>j.openURL(f)},l)}),C.after(ge,"default",(t,[{user:o}],l)=>{let s=g("AccountInfo","statusBtn",!1);const w=d("pending-alert"),r=G.getActivities(o.id).find(y=>y.type===4);return s?e.createElement(e.Fragment,null,l):e.createElement($,{onPress:()=>{U.setString(`${r.emoji.name?`:${r.emoji.name}:`:""} ${r.state?r.state:""}`),c.open({content:"Copied to clipboard",source:w})}},l)})},onStop(){C.unpatchAll()},getSettingsPanel({settings:t}){return e.createElement(ce,{settings:t})}};Q(we);
