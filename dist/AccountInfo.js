const y=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const o=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const g=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const H=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const h=window.enmity.modules.common.Moment,{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal;const O=e.Pressable;e.RefreshControl;const $=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch;const S=e.Text;e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const F=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox;const A=e.FormDivider;e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio;const l=e.FormRow,z=e.FormSection;e.FormSelect,e.FormSubLabel;const N=e.FormSwitch;e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;function K(t){window.enmity.plugins.registerPlugin(t)}function s(t){return window.enmity.assets.getIDByName(t)}const d={byProps:(...t)=>window.enmity.modules.filters.byProps(...t),byName:(t,n)=>window.enmity.modules.filters.byName(t,n),byTypeName:(t,n)=>window.enmity.modules.filters.byTypeName(t,n),byDisplayName:(t,n)=>window.enmity.modules.filters.byDisplayName(t,n)};function Y(...t){return window.enmity.modules.bulk(...t)}function j(...t){return window.enmity.modules.getByProps(...t)}window.enmity.modules.common;function q(t){return window.enmity.patcher.create(t)}var J="AccountInfo",W="Test 1.3.6",X="Shows Account Information and Account Assets.",Q=[{name:"acquite",id:"581573474296791211"}],Z="#ff1f84",ee={name:J,version:W,description:X,authors:Q,color:Z},oe=({settings:t})=>{const n=s("ic_selection_checked_24px");return o.createElement(o.Fragment,null,o.createElement($,null,o.createElement(z,{title:"Enable Dedicated Buttons"},o.createElement(l,{label:"Profile Picture",trailing:o.createElement(N,{value:t.getBoolean("pfpBtn",!1),onValueChange:()=>{t.toggle("pfpBtn",!1),g.open({content:"Toggled Profile Picture Button",source:n})}})}),o.createElement(A,null),o.createElement(l,{label:"Status",trailing:o.createElement(N,{value:t.getBoolean("statusBtn",!1),onValueChange:()=>{t.toggle("statusBtn",!1),g.open({content:"Toggled Status Button",source:n})}})}))))};function B(t,n,r){return window.enmity.settings.getBoolean(t,n,r)}const[te,ne,ie,_,me,le]=Y(d.byDisplayName("UserProfileHeader",!1),d.byProps("getMember"),d.byProps("getGuild"),d.byProps("transitionToGuild"),d.byProps("setString"),d.byName("HeaderAvatar",!1)),C=q("account-info"),re=j("getStatus","getState"),ae={...ee,onStart(){C.instead(te,"default",(t,n,r)=>{var u,p,a,f;let w=B("AccountInfo","pfpBtn",!1),T=B("AccountInfo","statusBtn",!1);const[{user:i,channel:b,type:D}]=n;if(D!==0)return r.apply(t,n);const m=H.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:y.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:y.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:y.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:y.ThemeColorMap.TEXT_MUTED},icon:{color:y.ThemeColorMap.INTERACTIVE_NORMAL}}),x=s("img_nitro_profile_banner"),M=s("pending-alert"),k=s("toast_copy_link"),P=s("ic_header_members_add_24px"),L=s("ic_leave_24px"),v=b==null?void 0:b.guild_id,c=v&&ne.getMember(b.guild_id,i.id),R=v&&ie.getGuild(b.guild_id),E=v?((u=c==null?void 0:c.getAvatarURL)==null?void 0:u.call(c,!1,4096,!0))||((p=i==null?void 0:i.getAvatarURL)==null?void 0:p.call(i,!1,4096,!0)):(a=i==null?void 0:i.getAvatarURL)==null?void 0:a.call(i,!1,4096,!0);if(!E)return r.apply(t,n);const V=i.discriminator%5,U=typeof E=="number"?`https://cdn.discordapp.com/embed/avatars/${V}.png`:E==null?void 0:E.replace(".webp",".png"),I=re.getActivities(i.id).find(G=>G.type===4);return o.createElement(o.Fragment,null,r.apply(t,n),o.createElement(F,{style:m.container},o.createElement(S,{style:m.header},"Account Information"),o.createElement(F,{style:m.information},o.createElement(l,{label:"Created",leading:o.createElement(l.Icon,{style:m.icon,source:P}),onPress:()=>{g.open({content:h(i.createdAt).format("LLL"),source:P})},trailing:()=>o.createElement(S,{style:m.item},h(i.createdAt).fromNow())}),v&&c&&o.createElement(o.Fragment,null,o.createElement(A,null),o.createElement(l,{label:`Joined ${(f=R==null?void 0:R.name)!=null?f:""}`,leading:o.createElement(l.Icon,{style:m.icon,source:L}),onPress:()=>{g.open({content:h(c.joinedAt).format("LLL"),source:L})},trailing:()=>o.createElement(S,{style:m.item},h(c.joinedAt).fromNow())}))),w||T?o.createElement(o.Fragment,null,o.createElement(S,{style:m.header},"Account Assets"),o.createElement(F,{style:m.information},w&&o.createElement(l,{label:`View ${i.username}'s Profile Picture`,leading:o.createElement(l.Icon,{style:m.icon,source:x}),onPress:()=>{_.openURL(U)}}),w&&T&&o.createElement(A,null),I&&T&&o.createElement(o.Fragment,null,o.createElement(l,{label:`Copy ${i.username}'s Status`,leading:o.createElement(l.Icon,{style:m.icon,source:k}),onPress:()=>{me.setString(I.state),g.open({content:"Copied to clipboard",source:M})}})))):o.createElement(o.Fragment,null)))}),C.after(le,"default",(t,[{user:n}],r)=>{var u;let p=B("AccountInfo","pfpBtn",!1);const a=(u=n==null?void 0:n.getAvatarURL)==null?void 0:u.call(n,!1,4096,!0);if(!a)return r;const f=n.discriminator%5,w=typeof a=="number"?`https://cdn.discordapp.com/embed/avatars/${f}.png`:a==null?void 0:a.replace(".webp",".png");return p?o.createElement(O,{onPress:()=>_.openURL(w)},r):o.createElement(o.Fragment,null,r)})},onStop(){C.unpatchAll()},getSettingsPanel({settings:t}){return o.createElement(oe,{settings:t})}};K(ae);
