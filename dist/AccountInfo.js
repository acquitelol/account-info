const h=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const e=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const s=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const $=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const F=window.enmity.modules.common.Moment,{components:n}=window.enmity;n.Alert,n.Button,n.FlatList,n.Image,n.ImageBackground,n.KeyboardAvoidingView,n.Modal;const V=n.Pressable;n.RefreshControl;const Q=n.ScrollView;n.SectionList,n.StatusBar,n.StyleSheet,n.Switch;const C=n.Text;n.TextInput,n.TouchableHighlight,n.TouchableOpacity,n.TouchableWithoutFeedback,n.Touchable;const R=n.View;n.VirtualizedList,n.Form,n.FormArrow,n.FormCTA,n.FormCTAButton,n.FormCardSection,n.FormCheckbox;const y=n.FormDivider;n.FormHint,n.FormIcon,n.FormInput,n.FormLabel,n.FormRadio;const l=n.FormRow,I=n.FormSection;n.FormSelect,n.FormSubLabel;const A=n.FormSwitch;n.FormTernaryCheckBox,n.FormText,n.FormTextColors,n.FormTextSizes;function ee(t){window.enmity.plugins.registerPlugin(t)}function i(t){return window.enmity.assets.getIDByName(t)}const g={byProps:(...t)=>window.enmity.modules.filters.byProps(...t),byName:(t,o)=>window.enmity.modules.filters.byName(t,o),byTypeName:(t,o)=>window.enmity.modules.filters.byTypeName(t,o),byDisplayName:(t,o)=>window.enmity.modules.filters.byDisplayName(t,o)};function k(...t){return window.enmity.modules.bulk(...t)}function te(...t){return window.enmity.modules.getByProps(...t)}window.enmity.modules.common;function ne(t,o,a){return window.enmity.utilities.findInReactTree(t,o,a)}function oe(t){return window.enmity.patcher.create(t)}var le="AccountInfo",M="1.6.652",ae="Shows Account Information and Account Assets.",j="development",ie=[{name:"acquite",id:"581573474296791211"}],re="#ff1f84",ce={name:le,version:M,description:ae,release:j,authors:ie,color:re};const[me,se]=k(g.byProps("transitionToGuild"),g.byProps("setString"));var ue=({settings:t})=>{const o=i("ic_selection_checked_24px"),a=$.createThemedStyleSheet({icon:{color:h.ThemeColorMap.INTERACTIVE_NORMAL}});return e.createElement(e.Fragment,null,e.createElement(Q,null,e.createElement(I,{title:"Enable Account Date Information"},e.createElement(l,{label:"Time of Creation",subLabel:"Show when an account was Created",leading:e.createElement(l.Icon,{style:a.icon,source:i("ic_header_members_add_24px")}),trailing:e.createElement(A,{value:t.getBoolean("createBtn",!0),onValueChange:()=>{t.toggle("createBtn",!0),s.open({content:`Successfully ${t.getBoolean("createBtn",!0)?"enabled":"disabled"} time of Account Creation.`,source:o})}})}),e.createElement(y,null),e.createElement(l,{label:"Time of Joining Server",subLabel:"Show when an account joined a server",leading:e.createElement(l.Icon,{style:a.icon,source:i("ic_leave_24px")}),trailing:e.createElement(A,{value:t.getBoolean("joinBtn",!0),onValueChange:()=>{t.toggle("joinBtn",!0),s.open({content:`Successfully ${t.getBoolean("joinBtn",!0)?"enabled":"disabled"} time of Joining Server.`,source:o})}})})),e.createElement(y,null),e.createElement(I,{title:"Enable Dedicated Buttons"},e.createElement(l,{label:"Profile Picture",subLabel:"Show dedicated button to view a user's PFP.",leading:e.createElement(l.Icon,{style:a.icon,source:i("img_nitro_profile_banner")}),trailing:e.createElement(A,{value:t.getBoolean("pfpBtn",!1),onValueChange:()=>{t.toggle("pfpBtn",!1),s.open({content:`Successfully ${t.getBoolean("pfpBtn",!1)?"enabled":"disabled"} dedicated PFP Button.`,source:o})}})}),e.createElement(y,null),e.createElement(l,{label:"Status",subLabel:"Show dedicated button to copy a user's Status",leading:e.createElement(l.Icon,{style:a.icon,source:i("ic_passport_24px")}),trailing:e.createElement(A,{value:t.getBoolean("statusBtn",!1),onValueChange:()=>{t.toggle("statusBtn",!1),s.open({content:`Successfully ${t.getBoolean("statusBtn",!1)?"enabled":"disabled"} dedicated Status Button.`,source:o})}})})),e.createElement(y,null),e.createElement(I,{title:"Disable Entire Plugin"},e.createElement(l,{label:"Disable Plugin",leading:e.createElement(l.Icon,{style:a.icon,source:i("ic_rulebook_16px")}),trailing:e.createElement(A,{value:t.getBoolean("masterDisable",!1),onValueChange:()=>{t.toggle("masterDisable",!1),s.open({content:`Successfully ${t.getBoolean("masterDisable",!1)?"disabled":"enabled"} AccountInfo.`,source:o})}})})),e.createElement(y,null),e.createElement(I,{title:"Source Code"},e.createElement(l,{label:"Download",subLabel:"Copy the link of the plugin to Clipboard.",leading:e.createElement(l.Icon,{style:a.icon,source:i("toast_copy_link")}),trailing:l.Arrow,onPress:()=>{se.setString("https://raw.githubusercontent.com/acquitelol/account-info/main/dist/AccountInfo.js"),s.open({content:"Copied to clipboard",source:i("pending-alert")})}}),e.createElement(l,{label:"Source",subLabel:"Open the Repo of the Plugin Externally",leading:e.createElement(l.Icon,{style:a.icon,source:i("ic_leave_stage")}),trailing:l.Arrow,onPress:()=>{me.openURL("https://github.com/acquitelol/account-info")}})),e.createElement(l,{label:`Plugin Version: ${M}
Release Channel: ${j}`})))};function b(t,o,a){return window.enmity.settings.getBoolean(t,o,a)}const[U,de,ge,O,G,pe]=k(g.byDisplayName("UserProfileHeader",!1),g.byProps("getMember"),g.byProps("getGuild"),g.byProps("transitionToGuild"),g.byProps("setString"),g.byName("HeaderAvatar",!1)),_=oe("account-info"),H=te("getStatus","getState"),we={...ce,onStart(){_.instead(U,"default",(t,o,a)=>{var p,f,u,d;let m=b("AccountInfo","pfpBtn",!1),E=b("AccountInfo","statusBtn",!1),P=b("AccountInfo","createBtn",!0),L=b("AccountInfo","joinBtn",!0),Y=b("AccountInfo","masterDisable",!1);const[{user:r,channel:B,type:q}]=o;if(q!==0)return a.apply(t,o);const c=$.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:h.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:h.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:h.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:h.ThemeColorMap.TEXT_MUTED},icon:{color:h.ThemeColorMap.INTERACTIVE_NORMAL}}),z=i("img_nitro_profile_banner"),J=i("pending-alert"),K=i("toast_copy_link"),D=i("ic_header_members_add_24px"),N=i("ic_leave_24px"),S=B==null?void 0:B.guild_id,w=S&&de.getMember(B.guild_id,r.id),x=S&&ge.getGuild(B.guild_id),T=S?((p=w==null?void 0:w.getAvatarURL)==null?void 0:p.call(w,!1,4096,!0))||((f=r==null?void 0:r.getAvatarURL)==null?void 0:f.call(r,!1,4096,!0)):(u=r==null?void 0:r.getAvatarURL)==null?void 0:u.call(r,!1,4096,!0);if(!T)return a.apply(t,o);const W=r.discriminator%5,X=typeof T=="number"?`https://cdn.discordapp.com/embed/avatars/${W}.png`:T==null?void 0:T.replace(".webp",".png"),v=H.getActivities(r.id).find(Z=>Z.type===4);return Y?e.createElement(e.Fragment,null,a.apply(t,o)):e.createElement(e.Fragment,null,a.apply(t,o),e.createElement(R,{style:c.container},P||L?e.createElement(e.Fragment,null,e.createElement(C,{style:c.header},"Account Information"),e.createElement(R,{style:c.information},P&&e.createElement(e.Fragment,null,e.createElement(l,{label:"Created",leading:e.createElement(l.Icon,{style:c.icon,source:D}),onPress:()=>{s.open({content:F(r.createdAt).format("LLL"),source:D})},trailing:()=>e.createElement(C,{style:c.item},F(r.createdAt).fromNow())})),P&&L&&S&&w&&e.createElement(y,null),L&&S&&w&&e.createElement(e.Fragment,null,e.createElement(l,{label:`Joined ${(d=x==null?void 0:x.name)!=null?d:""}`,leading:e.createElement(l.Icon,{style:c.icon,source:N}),onPress:()=>{s.open({content:F(w.joinedAt).format("LLL"),source:N})},trailing:()=>e.createElement(C,{style:c.item},F(w.joinedAt).fromNow())})))):e.createElement(e.Fragment,null),m||E?e.createElement(e.Fragment,null,e.createElement(C,{style:c.header},"Account Assets"),e.createElement(R,{style:c.information},m&&e.createElement(l,{label:`View ${r.username}'s Profile Picture`,leading:e.createElement(l.Icon,{style:c.icon,source:z}),trailing:l.Arrow,onPress:()=>{O.openURL(X)}}),m&&E&&e.createElement(y,null),v&&E&&e.createElement(e.Fragment,null,e.createElement(l,{label:`Copy ${r.username}'s Status`,leading:e.createElement(l.Icon,{style:c.icon,source:K}),trailing:l.Arrow,onPress:()=>{G.setString(`${v.emoji.name?`:${v.emoji.name}:`:""} ${v.state?v.state:""}`),s.open({content:"Copied to clipboard",source:J})}})))):e.createElement(e.Fragment,null)))}),_.after(pe,"default",(t,[{user:o}],a)=>{var p;let f=b("AccountInfo","pfpBtn",!1);const u=(p=o==null?void 0:o.getAvatarURL)==null?void 0:p.call(o,!1,4096,!0);if(!u)return a;const d=o.discriminator%5,m=typeof u=="number"?`https://cdn.discordapp.com/embed/avatars/${d}.png`:u==null?void 0:u.replace(".webp",".png");return f?e.createElement(e.Fragment,null,a):e.createElement(V,{onPress:()=>O.openURL(m)},a)}),_.after(U,"default",(t,[{user:o}],a)=>{const p=ne(a,m=>{var E;return(E=m==null?void 0:m.props)==null?void 0:E.customStatusActivity});let f=b("AccountInfo","statusBtn",!1);const u=i("pending-alert"),d=H.getActivities(o.id).find(m=>m.type===4);return f?a=a:a.children.statusElem=e.createElement(V,{onPress:()=>{G.setString(`${d.emoji.name?`:${d.emoji.name}:`:""} ${d.state?d.state:""}`),s.open({content:"Copied to clipboard",source:u})}},p),a})},onStop(){_.unpatchAll()},getSettingsPanel({settings:t}){return e.createElement(ue,{settings:t})}};ee(we);
