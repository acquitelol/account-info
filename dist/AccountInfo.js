const b=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const t=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const p=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const Y=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const T=window.enmity.modules.common.Moment,{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal;const N=e.Pressable;e.RefreshControl;const j=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch;const F=e.Text;e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const C=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox;const P=e.FormDivider;e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio;const l=e.FormRow,q=e.FormSection;e.FormSelect,e.FormSubLabel;const I=e.FormSwitch;e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;function K(o){window.enmity.plugins.registerPlugin(o)}function w(o){return window.enmity.assets.getIDByName(o)}const y={byProps:(...o)=>window.enmity.modules.filters.byProps(...o),byName:(o,n)=>window.enmity.modules.filters.byName(o,n),byTypeName:(o,n)=>window.enmity.modules.filters.byTypeName(o,n),byDisplayName:(o,n)=>window.enmity.modules.filters.byDisplayName(o,n)};function W(...o){return window.enmity.modules.bulk(...o)}function X(...o){return window.enmity.modules.getByProps(...o)}window.enmity.modules.common;function J(o){return window.enmity.patcher.create(o)}var Q="AccountInfo",Z="Test 1.2.9",ee="Shows Account Information and Account Assets.",te=[{name:"acquite",id:"581573474296791211"}],oe="#ff1f84",ne={name:Q,version:Z,description:ee,authors:te,color:oe},ie=({settings:o})=>{const n=w("ic_selection_checked_24px");return t.createElement(t.Fragment,null,t.createElement(j,null,t.createElement(q,{title:"Enable Dedicated Buttons"},t.createElement(l,{label:"Profile Picture",trailing:t.createElement(I,{value:o.getBoolean("pfpBtn",!1),onValueChange:()=>{o.toggle("pfpBtn",!1),p.open({content:"Toggled Profile Picture Button",source:n})}})}),t.createElement(P,null),t.createElement(l,{label:"Status",trailing:t.createElement(I,{value:o.getBoolean("statusBtn",!1),onValueChange:()=>{o.toggle("statusBtn",!1),p.open({content:"Toggled Status Button",source:n})}})}))))};function D(o,n,c){return window.enmity.settings.getBoolean(o,n,c)}const[me,re,le,M,x,ae,se]=W(y.byDisplayName("UserProfileHeader",!1),y.byProps("getMember"),y.byProps("getGuild"),y.byProps("transitionToGuild"),y.byProps("setString"),y.byName("HeaderAvatar",!1),y.byName("CustomStatusSection",!1)),A=J("account-info"),k=X("getStatus","getState"),ce={...ne,onStart(){const o=(n,c,f)=>{switch(n){case 1:c||A.after(ae,"default",(v,[{user:a}],d)=>{var u;const m=(u=a==null?void 0:a.getAvatarURL)==null?void 0:u.call(a,!1,4096,!0);if(!m)return d;const s=a.discriminator%5,i=typeof m=="number"?`https://cdn.discordapp.com/embed/avatars/${s}.png`:m==null?void 0:m.replace(".webp",".png");return t.createElement(N,{onPress:()=>M.openURL(i)},d)});case 2:f||A.after(se,"default",(v,[{user:a}],d)=>{const u=w("pending-alert"),m=k.getActivities(a.id).find(s=>s.type===4);return t.createElement(N,{onPress:()=>{x.setString(m.state),p.open({content:"Copied to clipboard",source:u})}},d)})}};A.instead(me,"default",(n,c,f)=>{var v,a,d,u;let m=D("AccountInfo","pfpBtn"),s=D("AccountInfo","statusBtn");const[{user:i,channel:S,type:V}]=c;if(V!==0)return f.apply(n,c);const r=Y.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:b.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:b.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:b.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:b.ThemeColorMap.TEXT_MUTED},icon:{color:b.ThemeColorMap.INTERACTIVE_NORMAL}}),U=w("img_nitro_profile_banner"),G=w("pending-alert"),H=w("toast_copy_link"),B=w("ic_header_members_add_24px"),L=w("ic_leave_24px"),E=S==null?void 0:S.guild_id,g=E&&re.getMember(S.guild_id,i.id),R=E&&le.getGuild(S.guild_id),h=E?((v=g==null?void 0:g.getAvatarURL)==null?void 0:v.call(g,!1,4096,!0))||((a=i==null?void 0:i.getAvatarURL)==null?void 0:a.call(i,!1,4096,!0)):(d=i==null?void 0:i.getAvatarURL)==null?void 0:d.call(i,!1,4096,!0);if(!h)return f.apply(n,c);const O=i.discriminator%5,$=typeof h=="number"?`https://cdn.discordapp.com/embed/avatars/${O}.png`:h==null?void 0:h.replace(".webp",".png"),_=k.getActivities(i.id).find(z=>z.type===4);return t.createElement(t.Fragment,null,f.apply(n,c),t.createElement(C,{style:r.container},t.createElement(F,{style:r.header},"Account Information"),t.createElement(C,{style:r.information},t.createElement(l,{label:"Created",leading:t.createElement(l.Icon,{style:r.icon,source:B}),onPress:()=>{p.open({content:T(i.createdAt).format("LLL"),source:B})},trailing:()=>t.createElement(F,{style:r.item},T(i.createdAt).fromNow())}),E&&g&&t.createElement(t.Fragment,null,t.createElement(P,null),t.createElement(l,{label:`Joined ${(u=R==null?void 0:R.name)!=null?u:""}`,leading:t.createElement(l.Icon,{style:r.icon,source:L}),onPress:()=>{p.open({content:T(g.joinedAt).format("LLL"),source:L})},trailing:()=>t.createElement(F,{style:r.item},T(g.joinedAt).fromNow())}))),m||s?t.createElement(t.Fragment,null,t.createElement(F,{style:r.header},"Account Assets"),t.createElement(C,{style:r.information},m&&t.createElement(l,{label:`View ${i.username}'s Profile Picture`,leading:t.createElement(l.Icon,{style:r.icon,source:U}),onPress:()=>{M.openURL($)}}),m&&s&&t.createElement(P,null),_&&s&&t.createElement(t.Fragment,null,t.createElement(l,{label:`Copy ${i.username}'s Status`,leading:t.createElement(l.Icon,{style:r.icon,source:H}),onPress:()=>{x.setString(_.state),p.open({content:"Copied to clipboard",source:G})}})))):t.createElement(t.Fragment,null)),o(1,m,s),o(2,m,s))})},onStop(){A.unpatchAll()},getSettingsPanel({settings:o}){return t.createElement(ie,{settings:o})}};K(ce);
