const r=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const o=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const T=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const L=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const g=window.enmity.modules.common.Moment,{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl;const U=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch;const p=e.Text;e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const f=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox;const h=e.FormDivider;e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio;const l=e.FormRow,O=e.FormSection;e.FormSelect,e.FormSubLabel;const B=e.FormSwitch;e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;function Y(n){window.enmity.plugins.registerPlugin(n)}function c(n){return window.enmity.assets.getIDByName(n)}const d={byProps:(...n)=>window.enmity.modules.filters.byProps(...n),byName:(n,t)=>window.enmity.modules.filters.byName(n,t),byTypeName:(n,t)=>window.enmity.modules.filters.byTypeName(n,t),byDisplayName:(n,t)=>window.enmity.modules.filters.byDisplayName(n,t)};function G(...n){return window.enmity.modules.bulk(...n)}function H(...n){return window.enmity.modules.getByProps(...n)}window.enmity.modules.common;function z(n){return window.enmity.patcher.create(n)}var K="AccountInfo",$="Test 1.2.0",j="Shows Account Information and Account Assets.",X=[{name:"acquite",id:"581573474296791211"}],q="#ff1f84",J={name:K,version:$,description:j,authors:X,color:q},W=({settings:n})=>{const t=L.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:r.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:r.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:r.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:r.ThemeColorMap.TEXT_MUTED},icon:{color:r.ThemeColorMap.INTERACTIVE_NORMAL}});return o.createElement(o.Fragment,null,o.createElement(U,{style:t.container},o.createElement(O,{title:"Enable Dedicated Buttons"},o.createElement(l,{label:"Profile Picture",trailing:o.createElement(B,{value:n.getBoolean("pfpBtn",!0),onValueChange:()=>n.toggle("pfpBtn",!0)})}),o.createElement(h,null),o.createElement(l,{label:"Status",trailing:o.createElement(B,{value:n.getBoolean("statusBtn",!0),onValueChange:()=>n.toggle("statusBtn",!0)})}),";")))};function N(n,t,s){return window.enmity.settings.getBoolean(n,t,s)}const[Q,Z,ee,oe,ne]=G(d.byDisplayName("UserProfileHeader",!1),d.byProps("getMember"),d.byProps("getGuild"),d.byProps("transitionToGuild"),d.byProps("setString")),P=z("account-info"),te=H("getStatus","getState");let ie=N("AccountInfo","pfpBtn",!0),me=N("AccountInfo","statusBtn",!0);const re={...J,onStart(){P.instead(Q,"default",(n,t,s)=>{var E,S,b,A;console.log(ie),console.log(me);const[{user:i,channel:u,type:_}]=t;if(_!==0)return s.apply(n,t);const m=L.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:r.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:r.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:r.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:r.ThemeColorMap.TEXT_MUTED},icon:{color:r.ThemeColorMap.INTERACTIVE_NORMAL}}),I=c("img_nitro_profile_banner"),D=c("pending-alert"),M=c("toast_copy_link"),v=c("ic_header_members_add_24px"),F=c("ic_leave_24px"),w=u==null?void 0:u.guild_id,a=w&&Z.getMember(u.guild_id,i.id),C=w&&ee.getGuild(u.guild_id),y=w?((E=a==null?void 0:a.getAvatarURL)==null?void 0:E.call(a,!1,4096,!0))||((S=i==null?void 0:i.getAvatarURL)==null?void 0:S.call(i,!1,4096,!0)):(b=i==null?void 0:i.getAvatarURL)==null?void 0:b.call(i,!1,4096,!0);if(!y)return s.apply(n,t);const x=i.discriminator%5,k=typeof y=="number"?`https://cdn.discordapp.com/embed/avatars/${x}.png`:y==null?void 0:y.replace(".webp",".png"),R=te.getActivities(i.id).find(V=>V.type===4);return o.createElement(o.Fragment,null,s.apply(n,t),o.createElement(f,{style:m.container},o.createElement(p,{style:m.header},"Account Information"),o.createElement(f,{style:m.information},o.createElement(l,{label:"Created",leading:o.createElement(l.Icon,{style:m.icon,source:v}),onPress:()=>{T.open({content:g(i.createdAt).format("LLL"),source:v})},trailing:()=>o.createElement(p,{style:m.item},g(i.createdAt).fromNow())}),w&&a&&o.createElement(o.Fragment,null,o.createElement(h,null),o.createElement(l,{label:`Joined ${(A=C==null?void 0:C.name)!=null?A:""}`,leading:o.createElement(l.Icon,{style:m.icon,source:F}),onPress:()=>{T.open({content:g(a.joinedAt).format("LLL"),source:F})},trailing:()=>o.createElement(p,{style:m.item},g(a.joinedAt).fromNow())}))),o.createElement(p,{style:m.header},"Account Assets"),o.createElement(f,{style:m.information},o.createElement(l,{label:`View ${i.username}'s Profile Picture`,leading:o.createElement(l.Icon,{style:m.icon,source:I}),onPress:()=>{oe.openURL(k)}}),R&&o.createElement(o.Fragment,null,o.createElement(h,null),o.createElement(l,{label:`Copy ${i.username}'s Status`,leading:o.createElement(l.Icon,{style:m.icon,source:M}),onPress:()=>{ne.setString(R.state),T.open({content:"Copied to clipboard",source:D})}})))))})},onStop(){P.unpatchAll()},getSettingsPanel({settings:n}){return o.createElement(W,{settings:n})}};Y(re);
