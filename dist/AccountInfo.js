const f=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const e=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const s=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const J=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const T=window.enmity.modules.common.Moment,{components:t}=window.enmity;t.Alert,t.Button,t.FlatList,t.Image,t.ImageBackground,t.KeyboardAvoidingView,t.Modal;const K=t.Pressable;t.RefreshControl;const Y=t.ScrollView;t.SectionList,t.StatusBar,t.StyleSheet,t.Switch;const F=t.Text;t.TextInput,t.TouchableHighlight,t.TouchableOpacity,t.TouchableWithoutFeedback,t.Touchable;const I=t.View;t.VirtualizedList,t.Form,t.FormArrow,t.FormCTA,t.FormCTAButton,t.FormCardSection,t.FormCheckbox;const A=t.FormDivider;t.FormHint,t.FormIcon,t.FormInput,t.FormLabel,t.FormRadio;const i=t.FormRow,x=t.FormSection;t.FormSelect,t.FormSubLabel;const B=t.FormSwitch;t.FormTernaryCheckBox,t.FormText,t.FormTextColors,t.FormTextSizes;function q(n){window.enmity.plugins.registerPlugin(n)}function u(n){return window.enmity.assets.getIDByName(n)}const d={byProps:(...n)=>window.enmity.modules.filters.byProps(...n),byName:(n,o)=>window.enmity.modules.filters.byName(n,o),byTypeName:(n,o)=>window.enmity.modules.filters.byTypeName(n,o),byDisplayName:(n,o)=>window.enmity.modules.filters.byDisplayName(n,o)};function W(...n){return window.enmity.modules.bulk(...n)}function X(...n){return window.enmity.modules.getByProps(...n)}window.enmity.modules.common;function Q(n){return window.enmity.patcher.create(n)}var Z="AccountInfo",M="1.4.8",ee="Shows Account Information and Account Assets.",V="development",te=[{name:"acquite",id:"581573474296791211"}],ne="#ff1f84",oe={name:Z,version:M,description:ee,release:V,authors:te,color:ne},me=({settings:n})=>{const o=u("ic_selection_checked_24px");return e.createElement(e.Fragment,null,e.createElement(Y,null,e.createElement(x,{title:"Enable Account Date Information"},e.createElement(i,{label:"Time of Creation",trailing:e.createElement(B,{value:n.getBoolean("createBtn",!0),onValueChange:()=>{n.toggle("createBtn",!0),s.open({content:"Toggled Time of Creation",source:o})}})}),e.createElement(A,null),e.createElement(i,{label:"Time of Joining Server",trailing:e.createElement(B,{value:n.getBoolean("joinBtn",!0),onValueChange:()=>{n.toggle("joinBtn",!0),s.open({content:"Toggled Time of Joining Server",source:o})}})})),e.createElement(x,{title:"Enable Dedicated Buttons"},e.createElement(i,{label:"Profile Picture",trailing:e.createElement(B,{value:n.getBoolean("pfpBtn",!1),onValueChange:()=>{n.toggle("pfpBtn",!1),s.open({content:"Toggled Profile Picture Button",source:o})}})}),e.createElement(A,null),e.createElement(i,{label:"Status",trailing:e.createElement(B,{value:n.getBoolean("statusBtn",!1),onValueChange:()=>{n.toggle("statusBtn",!1),s.open({content:"Toggled Status Button",source:o})}})})),e.createElement(i,{label:`Plugin Version: ${M}
Release Channel: ${V}`})))};function E(n,o,r){return window.enmity.settings.getBoolean(n,o,r)}const[ie,le,re,k,ae,ce,ue]=W(d.byDisplayName("UserProfileHeader",!1),d.byProps("getMember"),d.byProps("getGuild"),d.byProps("transitionToGuild"),d.byProps("setString"),d.byName("HeaderAvatar",!1),d.byProps("customStatusActivity")),R=Q("account-info"),se=X("getStatus","getState"),de={...oe,onStart(){R.instead(ie,"default",(n,o,r)=>{var g,b,a,v;let w=E("AccountInfo","pfpBtn",!1),C=E("AccountInfo","statusBtn",!1),P=E("AccountInfo","createBtn",!0),L=E("AccountInfo","joinBtn",!0);const[{user:m,channel:S,type:U}]=o;if(U!==0)return r.apply(n,o);const l=J.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:f.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:f.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:f.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:f.ThemeColorMap.TEXT_MUTED},icon:{color:f.ThemeColorMap.INTERACTIVE_NORMAL}}),$=u("img_nitro_profile_banner"),j=u("pending-alert"),G=u("toast_copy_link"),_=u("ic_header_members_add_24px"),N=u("ic_leave_24px"),y=S==null?void 0:S.guild_id,c=y&&le.getMember(S.guild_id,m.id),D=y&&re.getGuild(S.guild_id),h=y?((g=c==null?void 0:c.getAvatarURL)==null?void 0:g.call(c,!1,4096,!0))||((b=m==null?void 0:m.getAvatarURL)==null?void 0:b.call(m,!1,4096,!0)):(a=m==null?void 0:m.getAvatarURL)==null?void 0:a.call(m,!1,4096,!0);if(!h)return r.apply(n,o);const H=m.discriminator%5,O=typeof h=="number"?`https://cdn.discordapp.com/embed/avatars/${H}.png`:h==null?void 0:h.replace(".webp",".png"),p=se.getActivities(m.id).find(z=>z.type===4);return e.createElement(e.Fragment,null,r.apply(n,o),e.createElement(I,{style:l.container},P||L?e.createElement(e.Fragment,null,e.createElement(F,{style:l.header},"Account Information"),e.createElement(I,{style:l.information},P&&e.createElement(e.Fragment,null,e.createElement(i,{label:"Created",leading:e.createElement(i.Icon,{style:l.icon,source:_}),onPress:()=>{s.open({content:T(m.createdAt).format("LLL"),source:_})},trailing:()=>e.createElement(F,{style:l.item},T(m.createdAt).fromNow())})),P&&L&&y&&c&&e.createElement(A,null),L&&y&&c&&e.createElement(e.Fragment,null,e.createElement(i,{label:`Joined ${(v=D==null?void 0:D.name)!=null?v:""}`,leading:e.createElement(i.Icon,{style:l.icon,source:N}),onPress:()=>{s.open({content:T(c.joinedAt).format("LLL"),source:N})},trailing:()=>e.createElement(F,{style:l.item},T(c.joinedAt).fromNow())})))):e.createElement(e.Fragment,null),w||C?e.createElement(e.Fragment,null,e.createElement(F,{style:l.header},"Account Assets"),e.createElement(I,{style:l.information},w&&e.createElement(i,{label:`View ${m.username}'s Profile Picture`,leading:e.createElement(i.Icon,{style:l.icon,source:$}),onPress:()=>{k.openURL(O)}}),w&&C&&e.createElement(A,null),p&&C&&e.createElement(e.Fragment,null,e.createElement(i,{label:`Copy ${m.username}'s Status`,leading:e.createElement(i.Icon,{style:l.icon,source:G}),onPress:()=>{ae.setString(`${p.emoji.name?`:${p.emoji.name}:`:""} ${p.state?p.state:""}`),s.open({content:"Copied to clipboard",source:j})}})))):e.createElement(e.Fragment,null)))}),R.after(ce,"default",(n,[{user:o}],r)=>{var g;let b=E("AccountInfo","pfpBtn",!1);const a=(g=o==null?void 0:o.getAvatarURL)==null?void 0:g.call(o,!1,4096,!0);if(!a)return r;const v=o.discriminator%5,w=typeof a=="number"?`https://cdn.discordapp.com/embed/avatars/${v}.png`:a==null?void 0:a.replace(".webp",".png");return b?e.createElement(e.Fragment,null,r):e.createElement(K,{onPress:()=>k.openURL(w)},r)})},onStop(){R.unpatchAll()},getSettingsPanel({settings:n}){return e.createElement(me,{settings:n})}};q(de);
