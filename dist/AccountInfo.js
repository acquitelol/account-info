const S=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const e=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const p=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const Z=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const L=window.enmity.modules.common.Moment,{components:t}=window.enmity;t.Alert,t.Button,t.FlatList,t.Image,t.ImageBackground,t.KeyboardAvoidingView,t.Modal;const B=t.Pressable;t.RefreshControl;const ee=t.ScrollView;t.SectionList,t.StatusBar,t.StyleSheet,t.Switch;const R=t.Text;t.TextInput,t.TouchableHighlight,t.TouchableOpacity,t.TouchableWithoutFeedback,t.Touchable;const I=t.View;t.VirtualizedList,t.Form,t.FormArrow,t.FormCTA,t.FormCTAButton,t.FormCardSection,t.FormCheckbox;const D=t.FormDivider;t.FormHint,t.FormIcon,t.FormInput,t.FormLabel,t.FormRadio;const l=t.FormRow,te=t.FormSection;t.FormSelect,t.FormSubLabel;const H=t.FormSwitch;t.FormTernaryCheckBox,t.FormText,t.FormTextColors,t.FormTextSizes;function oe(o){window.enmity.plugins.registerPlugin(o)}function d(o){return window.enmity.assets.getIDByName(o)}const y={byProps:(...o)=>window.enmity.modules.filters.byProps(...o),byName:(o,n)=>window.enmity.modules.filters.byName(o,n),byTypeName:(o,n)=>window.enmity.modules.filters.byTypeName(o,n),byDisplayName:(o,n)=>window.enmity.modules.filters.byDisplayName(o,n)};function ne(...o){return window.enmity.modules.bulk(...o)}function ie(...o){return window.enmity.modules.getByProps(...o)}window.enmity.modules.common;function re(o){return window.enmity.patcher.create(o)}var me="AccountInfo",le="Test 1.3.0",ae="Shows Account Information and Account Assets.",se=[{name:"acquite",id:"581573474296791211"}],ce="#ff1f84",de={name:me,version:le,description:ae,authors:se,color:ce},ue=({settings:o})=>{const n=d("ic_selection_checked_24px");return e.createElement(e.Fragment,null,e.createElement(ee,null,e.createElement(te,{title:"Enable Dedicated Buttons"},e.createElement(l,{label:"Profile Picture",trailing:e.createElement(H,{value:o.getBoolean("pfpBtn",!1),onValueChange:()=>{o.toggle("pfpBtn",!1),p.open({content:"Toggled Profile Picture Button",source:n})}})}),e.createElement(D,null),e.createElement(l,{label:"Status",trailing:e.createElement(H,{value:o.getBoolean("statusBtn",!1),onValueChange:()=>{o.toggle("statusBtn",!1),p.open({content:"Toggled Status Button",source:n})}})}))))};function O(o,n,c){return window.enmity.settings.getBoolean(o,n,c)}const[we,pe,ye,x,M,z,K]=ne(y.byDisplayName("UserProfileHeader",!1),y.byProps("getMember"),y.byProps("getGuild"),y.byProps("transitionToGuild"),y.byProps("setString"),y.byName("HeaderAvatar",!1),y.byName("CustomStatusSection",!1)),v=re("account-info"),U=ie("getStatus","getState"),ge={...de,onStart(){const o=(n,c,E)=>{switch(n){case 1:c||v.after(z,"default",(h,[{user:a}],u)=>{var w;const r=(w=a==null?void 0:a.getAvatarURL)==null?void 0:w.call(a,!1,4096,!0);if(!r)return u;const s=a.discriminator%5,i=typeof r=="number"?`https://cdn.discordapp.com/embed/avatars/${s}.png`:r==null?void 0:r.replace(".webp",".png");return e.createElement(B,{onPress:()=>x.openURL(i)},u)});case 2:E||v.after(K,"default",(h,[{user:a}],u)=>{const w=d("pending-alert"),r=U.getActivities(a.id).find(s=>s.type===4);return e.createElement(B,{onPress:()=>{M.setString(r.state),p.open({content:"Copied to clipboard",source:w})}},u)})}};v.instead(we,"default",(n,c,E)=>{var h,a,u,w;let r=O("AccountInfo","pfpBtn"),s=O("AccountInfo","statusBtn");const[{user:i,channel:T,type:Y}]=c;if(Y!==0)return E.apply(n,c);const m=Z.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:S.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:S.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:S.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:S.ThemeColorMap.TEXT_MUTED},icon:{color:S.ThemeColorMap.INTERACTIVE_NORMAL}}),j=d("img_nitro_profile_banner"),q=d("pending-alert"),J=d("toast_copy_link"),k=d("ic_header_members_add_24px"),V=d("ic_leave_24px"),F=T==null?void 0:T.guild_id,g=F&&pe.getMember(T.guild_id,i.id),$=F&&ye.getGuild(T.guild_id),A=F?((h=g==null?void 0:g.getAvatarURL)==null?void 0:h.call(g,!1,4096,!0))||((a=i==null?void 0:i.getAvatarURL)==null?void 0:a.call(i,!1,4096,!0)):(u=i==null?void 0:i.getAvatarURL)==null?void 0:u.call(i,!1,4096,!0);if(!A)return E.apply(n,c);const X=i.discriminator%5,Q=typeof A=="number"?`https://cdn.discordapp.com/embed/avatars/${X}.png`:A==null?void 0:A.replace(".webp",".png"),G=U.getActivities(i.id).find(N=>N.type===4);return e.createElement(e.Fragment,null,E.apply(n,c),e.createElement(I,{style:m.container},e.createElement(R,{style:m.header},"Account Information"),e.createElement(I,{style:m.information},e.createElement(l,{label:"Created",leading:e.createElement(l.Icon,{style:m.icon,source:k}),onPress:()=>{p.open({content:L(i.createdAt).format("LLL"),source:k})},trailing:()=>e.createElement(R,{style:m.item},L(i.createdAt).fromNow())}),F&&g&&e.createElement(e.Fragment,null,e.createElement(D,null),e.createElement(l,{label:`Joined ${(w=$==null?void 0:$.name)!=null?w:""}`,leading:e.createElement(l.Icon,{style:m.icon,source:V}),onPress:()=>{p.open({content:L(g.joinedAt).format("LLL"),source:V})},trailing:()=>e.createElement(R,{style:m.item},L(g.joinedAt).fromNow())}))),r||s?e.createElement(e.Fragment,null,e.createElement(R,{style:m.header},"Account Assets"),e.createElement(I,{style:m.information},r?e.createElement(l,{label:`View ${i.username}'s Profile Picture`,leading:e.createElement(l.Icon,{style:m.icon,source:j}),onPress:()=>{x.openURL(Q)}}):v.after(z,"default",(N,[{user:f}],P)=>{var C;const b=(C=f==null?void 0:f.getAvatarURL)==null?void 0:C.call(f,!1,4096,!0);if(!b)return P;const _=f.discriminator%5,W=typeof b=="number"?`https://cdn.discordapp.com/embed/avatars/${_}.png`:b==null?void 0:b.replace(".webp",".png");return e.createElement(B,{onPress:()=>x.openURL(W)},P)}),r&&s&&e.createElement(D,null),G?s?e.createElement(e.Fragment,null,e.createElement(l,{label:`Copy ${i.username}'s Status`,leading:e.createElement(l.Icon,{style:m.icon,source:J}),onPress:()=>{M.setString(G.state),p.open({content:"Copied to clipboard",source:q})}})):v.after(K,"default",(N,[{user:f}],P)=>{const C=d("pending-alert"),b=U.getActivities(f.id).find(_=>_.type===4);return e.createElement(B,{onPress:()=>{M.setString(b.state),p.open({content:"Copied to clipboard",source:C})}},P)}):e.createElement(e.Fragment,null))):e.createElement(e.Fragment,null)),o(1,r,s),o(2,r,s))})},onStop(){v.unpatchAll()},getSettingsPanel({settings:o}){return e.createElement(ue,{settings:o})}};oe(ge);
