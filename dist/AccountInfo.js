const S=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const e=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const u=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const z=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const L=window.enmity.modules.common.Moment,{components:n}=window.enmity;n.Alert,n.Button,n.FlatList,n.Image,n.ImageBackground,n.KeyboardAvoidingView,n.Modal;const k=n.Pressable;n.RefreshControl;const ne=n.ScrollView;n.SectionList,n.StatusBar,n.StyleSheet,n.Switch;const R=n.Text;n.TextInput,n.TouchableHighlight,n.TouchableOpacity,n.TouchableWithoutFeedback,n.Touchable;const M=n.View;n.VirtualizedList,n.Form,n.FormArrow,n.FormCTA,n.FormCTAButton,n.FormCardSection,n.FormCheckbox;const E=n.FormDivider;n.FormHint,n.FormIcon,n.FormInput,n.FormLabel,n.FormRadio;const a=n.FormRow,D=n.FormSection;n.FormSelect,n.FormSubLabel;const A=n.FormSwitch;n.FormTernaryCheckBox,n.FormText,n.FormTextColors,n.FormTextSizes;function oe(t){window.enmity.plugins.registerPlugin(t)}function c(t){return window.enmity.assets.getIDByName(t)}const f={byProps:(...t)=>window.enmity.modules.filters.byProps(...t),byName:(t,o)=>window.enmity.modules.filters.byName(t,o),byTypeName:(t,o)=>window.enmity.modules.filters.byTypeName(t,o),byDisplayName:(t,o)=>window.enmity.modules.filters.byDisplayName(t,o)};function H(...t){return window.enmity.modules.bulk(...t)}function le(...t){return window.enmity.modules.getByProps(...t)}window.enmity.modules.common;function J(t,o,l){return window.enmity.utilities.findInReactTree(t,o,l)}function ae(t){return window.enmity.patcher.create(t)}var ie="AccountInfo",W="1.3.3",re="Shows Account Information and Account Assets.",Y="stable",ce=[{name:"acquite",id:"581573474296791211"}],se="#ff1f84",me={name:ie,version:W,description:re,release:Y,authors:ce,color:se};const[ue,de]=H(f.byProps("transitionToGuild"),f.byProps("setString"));var ge=({settings:t})=>{const o=c("ic_selection_checked_24px"),l=z.createThemedStyleSheet({icon:{color:S.ThemeColorMap.INTERACTIVE_NORMAL}});return e.createElement(e.Fragment,null,e.createElement(ne,null,e.createElement(D,{title:"Enable Account Date Information"},e.createElement(a,{label:"Time of Creation",subLabel:"Show when an account was Created",leading:e.createElement(a.Icon,{style:l.icon,source:c("ic_header_members_add_24px")}),trailing:e.createElement(A,{value:t.getBoolean("createBtn",!0),onValueChange:()=>{t.toggle("createBtn",!0),u.open({content:`Successfully ${t.getBoolean("createBtn",!0)?"enabled":"disabled"} time of Account Creation.`,source:o})}})}),e.createElement(E,null),e.createElement(a,{label:"Time of Joining Server",subLabel:"Show when an account Joined a Server",leading:e.createElement(a.Icon,{style:l.icon,source:c("ic_leave_24px")}),trailing:e.createElement(A,{value:t.getBoolean("joinBtn",!0),onValueChange:()=>{t.toggle("joinBtn",!0),u.open({content:`Successfully ${t.getBoolean("joinBtn",!0)?"enabled":"disabled"} time of Joining Server.`,source:o})}})})),e.createElement(E,null),e.createElement(D,{title:"Enable Dedicated Buttons"},e.createElement(a,{label:"Assets",subLabel:"Show dedicated button to view Account Assets",leading:e.createElement(a.Icon,{style:l.icon,source:c("img_nitro_profile_banner")}),trailing:e.createElement(A,{value:t.getBoolean("pfpBtn",!1),onValueChange:()=>{t.toggle("pfpBtn",!1),u.open({content:`Successfully ${t.getBoolean("pfpBtn",!1)?"enabled":"disabled"} dedicated Assets Button.`,source:o})}})}),e.createElement(E,null),e.createElement(a,{label:"Status",subLabel:"Show dedicated button to copy a user's Status",leading:e.createElement(a.Icon,{style:l.icon,source:c("ic_passport_24px")}),trailing:e.createElement(A,{value:t.getBoolean("statusBtn",!1),onValueChange:()=>{t.toggle("statusBtn",!1),u.open({content:`Successfully ${t.getBoolean("statusBtn",!1)?"enabled":"disabled"} dedicated Status Button.`,source:o})}})})),e.createElement(E,null),e.createElement(D,{title:"Disable Entire Plugin"},e.createElement(a,{label:"Disable Plugin",leading:e.createElement(a.Icon,{style:l.icon,source:c("ic_rulebook_16px")}),trailing:e.createElement(A,{value:t.getBoolean("masterDisable",!1),onValueChange:()=>{t.toggle("masterDisable",!1),u.open({content:`Successfully ${t.getBoolean("masterDisable",!1)?"disabled":"enabled"} AccountInfo.`,source:o})}})})),e.createElement(E,null),e.createElement(D,{title:"Source Code"},e.createElement(a,{label:"Download",subLabel:"Copy the link of the plugin to Clipboard",leading:e.createElement(a.Icon,{style:l.icon,source:c("toast_copy_link")}),trailing:a.Arrow,onPress:()=>{de.setString("https://raw.githubusercontent.com/acquitelol/account-info/main/dist/AccountInfo.js"),u.open({content:"Copied to clipboard",source:c("pending-alert")})}}),e.createElement(a,{label:"Source",subLabel:"Open the Repo of the Plugin Externally",leading:e.createElement(a.Icon,{style:l.icon,source:c("ic_leave_stage")}),trailing:a.Arrow,onPress:()=>{ue.openURL("https://github.com/acquitelol/account-info")}})),e.createElement(a,{label:`Plugin Version: ${W}
Release Channel: ${Y}`})))};function pe(t,o,l){window.enmity.settings.set(t,o,l)}function s(t,o,l){return window.enmity.settings.getBoolean(t,o,l)}function ye(t,o,l){window.enmity.settings.toggle(t,o,l)}const[q,we,fe,B,K,be,Ee]=H(f.byDisplayName("UserProfileHeader",!1),f.byProps("getMember"),f.byProps("getGuild"),f.byProps("transitionToGuild"),f.byProps("setString"),f.byName("HeaderAvatar",!1),f.byName("ProfileBanner",!1)),T=ae("account-info"),he=le("getStatus","getState"),Se={...me,onStart(){T.instead(q,"default",(t,o,l)=>{var p,y,d,m;const[i,w]=e.useState("Profile Picture");let h=s("AccountInfo","pfpBtn",!1),$=s("AccountInfo","statusBtn",!1),N=s("AccountInfo","createBtn",!0),x=s("AccountInfo","joinBtn",!0),X=s("AccountInfo","masterDisable",!1);const[{user:r,channel:I,type:Q}]=o;try{var F=o[0].displayProfile.banner}catch{pe("AccountInfo","pfpToggle",!0)}if(Q!==0)return l.apply(t,o);const g=z.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:S.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:S.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:S.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:S.ThemeColorMap.TEXT_MUTED},icon:{color:S.ThemeColorMap.INTERACTIVE_NORMAL},switchArrow:{marginRight:15.5}}),V=c("img_nitro_profile_banner"),Z=c("pending-alert"),ee=c("toast_copy_link"),U=c("ic_header_members_add_24px"),j=c("ic_leave_24px"),v=I==null?void 0:I.guild_id,b=v&&we.getMember(I.guild_id,r.id),G=v&&fe.getGuild(I.guild_id),_=v?((p=b==null?void 0:b.getAvatarURL)==null?void 0:p.call(b,!1,4096,!0))||((y=r==null?void 0:r.getAvatarURL)==null?void 0:y.call(r,!1,4096,!0)):(d=r==null?void 0:r.getAvatarURL)==null?void 0:d.call(r,!1,4096,!0);if(!_)return l.apply(t,o);const te=r.discriminator%5,O=typeof _=="number"?`https://cdn.discordapp.com/embed/avatars/${te}.png`:_==null?void 0:_.replace(".webp",".png"),C=he.getActivities(r.id).find(P=>P.type===4);return X?e.createElement(e.Fragment,null,l.apply(t,o)):e.createElement(e.Fragment,null,l.apply(t,o),e.createElement(M,{style:g.container},N||x?e.createElement(e.Fragment,null,e.createElement(R,{style:g.header},"Account Information"),e.createElement(M,{style:g.information},N&&e.createElement(e.Fragment,null,e.createElement(a,{label:"Created",leading:e.createElement(a.Icon,{style:g.icon,source:U}),onPress:()=>{u.open({content:L(r.createdAt).format("LLL"),source:U})},trailing:()=>e.createElement(R,{style:g.item},L(r.createdAt).fromNow())})),N&&x&&v&&b&&e.createElement(E,null),x&&v&&b&&e.createElement(e.Fragment,null,e.createElement(a,{label:`Joined ${(m=G==null?void 0:G.name)!=null?m:""}`,leading:e.createElement(a.Icon,{style:g.icon,source:j}),onPress:()=>{u.open({content:L(b.joinedAt).format("LLL"),source:j})},trailing:()=>e.createElement(R,{style:g.item},L(b.joinedAt).fromNow())})))):e.createElement(e.Fragment,null),h||$?e.createElement(e.Fragment,null,e.createElement(R,{style:g.header},"Account Assets"),e.createElement(M,{style:g.information},h&&e.createElement(e.Fragment,null,e.createElement(a,{label:`View ${r.username}'s ${i}`,leading:e.createElement(a.Icon,{style:g.icon,source:V}),trailing:a.Arrow,onPress:()=>{F?s("AccountInfo","pfpToggle",!0)?B.openURL(O):B.openURL(`https://cdn.discordapp.com/banners/${r.id}/${F}.${F.startsWith("a_")?"gif":"png"}?size=4096`):B.openURL(O)},onLongPress:F?()=>{ye("AccountInfo","pfpToggle",!0),u.open({content:`Switched to ${s("AccountInfo","pfpToggle",!0)?"profile picture":"banner"} link.`,source:V}),w(i=="Profile Picture"?"Banner":"Profile Picture")}:()=>{u.open({content:`${r.username} does not have a banner.`,source:V})}})),h&&$&&e.createElement(E,null),C&&$&&e.createElement(e.Fragment,null,e.createElement(a,{label:`Copy ${r.username}'s Status`,leading:e.createElement(a.Icon,{style:g.icon,source:ee}),trailing:a.Arrow,onPress:()=>{try{var P=C.emoji.name}catch{}K.setString(`${P?`:${P}:`:""} ${C.state?C.state:""}`),u.open({content:"Copied to clipboard",source:Z})}})))):e.createElement(e.Fragment,null)))}),T.after(be,"default",(t,[{user:o}],l)=>{var p;let y=s("AccountInfo","pfpBtn",!1),d=s("AccountInfo","masterDisable",!1);const m=(p=o==null?void 0:o.getAvatarURL)==null?void 0:p.call(o,!1,4096,!0);if(!m)return l;const i=o.discriminator%5,w=typeof m=="number"?`https://cdn.discordapp.com/embed/avatars/${i}.png`:m==null?void 0:m.replace(".webp",".png");return d||y?e.createElement(e.Fragment,null,l):e.createElement(k,{onPress:()=>B.openURL(w)},l)}),T.after(Ee,"default",(t,[{bannerSource:o}],l)=>{let p=s("AccountInfo","pfpBtn",!1),y=s("AccountInfo","masterDisable",!1);if(typeof(o==null?void 0:o.uri)!="string"||!l)return l;let d=o.uri.split("/"),m=d[5].split(".")[0];const i=`https://cdn.discordapp.com/banners/${d[4]}/${m}.${m.startsWith("a_")?"gif":"png"}?size=4096`;return y||p?e.createElement(e.Fragment,null,l):e.createElement(k,{onPress:()=>B.openURL(i)},l)}),T.after(q,"default",(t,o,l)=>{const p=J(l,i=>{var w;return(w=i==null?void 0:i.props)==null?void 0:w.customStatusActivity});if(!p)return l;const y=J(l,i=>{var w,h;return(h=(w=i==null?void 0:i[2])==null?void 0:w.props)==null?void 0:h.customStatusActivity});if(!y||s("AccountInfo","statusBtn",!1)||s("AccountInfo","masterDisable",!1))return l;const d=y[2].props.customStatusActivity,m=c("pending-alert");y[2]=e.createElement(k,{onPress:()=>{try{var i=d.emoji.name}catch{}K.setString(`${i?`:${i}:`:""} ${d.state?d.state:""}`),u.open({content:"Copied to clipboard",source:m})}},p)})},onStop(){T.unpatchAll()},getSettingsPanel({settings:t}){return e.createElement(ge,{settings:t})}};oe(Se);
