const f=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const e=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const y=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const _=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const{components:n}=window.enmity;n.Alert,n.Button,n.FlatList,n.Image,n.ImageBackground,n.KeyboardAvoidingView,n.Modal;const I=n.Pressable;n.RefreshControl;const H=n.ScrollView;n.SectionList,n.StatusBar,n.StyleSheet,n.Switch;const z=n.Text;n.TextInput,n.TouchableHighlight,n.TouchableOpacity,n.TouchableWithoutFeedback,n.Touchable;const D=n.View;n.VirtualizedList,n.Form,n.FormArrow,n.FormCTA,n.FormCTAButton,n.FormCardSection,n.FormCheckbox;const F=n.FormDivider;n.FormHint,n.FormIcon,n.FormInput,n.FormLabel,n.FormRadio;const r=n.FormRow,B=n.FormSection;n.FormSelect,n.FormSubLabel;const C=n.FormSwitch;n.FormTernaryCheckBox,n.FormText,n.FormTextColors,n.FormTextSizes;function j(t){window.enmity.plugins.registerPlugin(t)}function c(t){return window.enmity.assets.getIDByName(t)}const w={byProps:(...t)=>window.enmity.modules.filters.byProps(...t),byName:(t,o)=>window.enmity.modules.filters.byName(t,o),byTypeName:(t,o)=>window.enmity.modules.filters.byTypeName(t,o),byDisplayName:(t,o)=>window.enmity.modules.filters.byDisplayName(t,o)};function $(...t){return window.enmity.modules.bulk(...t)}function q(...t){return window.enmity.modules.getByProps(...t)}window.enmity.modules.common;function N(t,o,i){return window.enmity.utilities.findInReactTree(t,o,i)}function K(t){return window.enmity.patcher.create(t)}var W="AccountInfo",k="1.3.4",Y="Shows Account Information and Account Assets.",x="stable",X=[{name:"acquite",id:"581573474296791211"}],J="#ff1f84",Q={name:W,version:k,description:Y,release:x,authors:X,color:J};const[Z,ee]=$(w.byProps("transitionToGuild"),w.byProps("setString"));var te=({settings:t})=>{const o=c("ic_selection_checked_24px"),i=_.createThemedStyleSheet({icon:{color:f.ThemeColorMap.INTERACTIVE_NORMAL}});return e.createElement(e.Fragment,null,e.createElement(H,null,e.createElement(B,{title:"Enable Dedicated Buttons"},e.createElement(r,{label:"Assets",subLabel:"Show dedicated button to view Account Assets",leading:e.createElement(r.Icon,{style:i.icon,source:c("img_nitro_profile_banner")}),trailing:e.createElement(C,{value:t.getBoolean("pfpBtn",!1),onValueChange:()=>{t.toggle("pfpBtn",!1),y.open({content:`Successfully ${t.getBoolean("pfpBtn",!1)?"enabled":"disabled"} dedicated Assets Button.`,source:o})}})}),e.createElement(F,null),e.createElement(r,{label:"Status",subLabel:"Show dedicated button to copy a user's Status",leading:e.createElement(r.Icon,{style:i.icon,source:c("ic_passport_24px")}),trailing:e.createElement(C,{value:t.getBoolean("statusBtn",!1),onValueChange:()=>{t.toggle("statusBtn",!1),y.open({content:`Successfully ${t.getBoolean("statusBtn",!1)?"enabled":"disabled"} dedicated Status Button.`,source:o})}})})),e.createElement(F,null),e.createElement(B,{title:"Disable Entire Plugin"},e.createElement(r,{label:"Disable Plugin",leading:e.createElement(r.Icon,{style:i.icon,source:c("ic_rulebook_16px")}),trailing:e.createElement(C,{value:t.getBoolean("masterDisable",!1),onValueChange:()=>{t.toggle("masterDisable",!1),y.open({content:`Successfully ${t.getBoolean("masterDisable",!1)?"disabled":"enabled"} AccountInfo.`,source:o})}})})),e.createElement(F,null),e.createElement(B,{title:"Source Code"},e.createElement(r,{label:"Download",subLabel:"Copy the link of the plugin to Clipboard",leading:e.createElement(r.Icon,{style:i.icon,source:c("toast_copy_link")}),trailing:r.Arrow,onPress:()=>{ee.setString("https://raw.githubusercontent.com/acquitelol/account-info/main/dist/AccountInfo.js"),y.open({content:"Copied to clipboard",source:c("pending-alert")})}}),e.createElement(r,{label:"Source",subLabel:"Open the Repo of the Plugin Externally",leading:e.createElement(r.Icon,{style:i.icon,source:c("ic_leave_stage")}),trailing:r.Arrow,onPress:()=>{Z.openURL("https://github.com/acquitelol/account-info")}})),e.createElement(r,{label:`Plugin Version: ${k}
Release Channel: ${x}`})))};function ne(t,o,i){window.enmity.settings.set(t,o,i)}function m(t,o,i){return window.enmity.settings.getBoolean(t,o,i)}function oe(t,o,i){window.enmity.settings.toggle(t,o,i)}const[V,h,R,ie,re]=$(w.byDisplayName("UserProfileHeader",!1),w.byProps("getMember"),w.byProps("getGuild"),w.byProps("transitionToGuild"),w.byProps("setString"),w.byName("HeaderAvatar",!1),w.byName("ProfileBanner",!1)),S=K("account-info"),ae=q("getStatus","getState"),le={...Q,onStart(){S.after(V,"default",(t,o,i)=>{var u;const[d,p]=e.useState("Profile Picture");let l=m("AccountInfo","pfpBtn",!1),a=m("AccountInfo","statusBtn",!1),g=m("AccountInfo","masterDisable",!1);const[{user:s,type:M}]=o;try{var E=o[0].displayProfile.banner}catch{ne("AccountInfo","pfpToggle",!0)}if(M!==0)return i.apply(t,o);const b=_.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:f.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:f.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:f.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:f.ThemeColorMap.TEXT_MUTED},icon:{color:f.ThemeColorMap.INTERACTIVE_NORMAL},switchArrow:{marginRight:15.5}}),P=c("img_nitro_profile_banner"),U=c("pending-alert"),O=c("toast_copy_link"),A=(u=s==null?void 0:s.getAvatarURL)==null?void 0:u.call(s,!1,4096,!0);if(!A)return i.apply(t,o);const G=s.discriminator%5,L=typeof A=="number"?`https://cdn.discordapp.com/embed/avatars/${G}.png`:A==null?void 0:A.replace(".webp",".png"),v=ae.getActivities(s.id).find(T=>T.type===4);return g?e.createElement(e.Fragment,null,i.apply(t,o)):e.createElement(e.Fragment,null,i.apply(t,o),e.createElement(D,{style:b.container},l||a?e.createElement(e.Fragment,null,e.createElement(z,{style:b.header},"Account Assets"),e.createElement(D,{style:b.information},l&&e.createElement(e.Fragment,null,e.createElement(r,{label:`View ${s.username}'s ${d}`,leading:e.createElement(r.Icon,{style:b.icon,source:P}),trailing:r.Arrow,onPress:()=>{E?m("AccountInfo","pfpToggle",!0)?h.openURL(L):h.openURL(`https://cdn.discordapp.com/banners/${s.id}/${E}.${E.startsWith("a_")?"gif":"png"}?size=4096`):h.openURL(L)},onLongPress:E?()=>{oe("AccountInfo","pfpToggle",!0),y.open({content:`Switched to ${m("AccountInfo","pfpToggle",!0)?"profile picture":"banner"} link.`,source:P}),p(d=="Profile Picture"?"Banner":"Profile Picture")}:()=>{y.open({content:`${s.username} does not have a banner.`,source:P})}})),l&&a&&e.createElement(F,null),v&&a&&e.createElement(e.Fragment,null,e.createElement(r,{label:`Copy ${s.username}'s Status`,leading:e.createElement(r.Icon,{style:b.icon,source:O}),trailing:r.Arrow,onPress:()=>{try{var T=v.emoji.name}catch{}R.setString(`${T?`:${T}:`:""} ${v.state?v.state:""}`),y.open({content:"Copied to clipboard",source:U})}})))):e.createElement(e.Fragment,null)))}),S.after(ie,"default",(t,[{user:o}],i)=>{var u;let d=m("AccountInfo","pfpBtn",!1),p=m("AccountInfo","masterDisable",!1);const l=(u=o==null?void 0:o.getAvatarURL)==null?void 0:u.call(o,!1,4096,!0);if(!l)return i;const a=o.discriminator%5,g=typeof l=="number"?`https://cdn.discordapp.com/embed/avatars/${a}.png`:l==null?void 0:l.replace(".webp",".png");return p||d?e.createElement(e.Fragment,null,i):e.createElement(I,{onPress:()=>h.openURL(g)},i)}),S.after(re,"default",(t,[{bannerSource:o}],i)=>{let u=m("AccountInfo","pfpBtn",!1),d=m("AccountInfo","masterDisable",!1);if(typeof(o==null?void 0:o.uri)!="string"||!i)return i;let p=o.uri.split("/"),l=p[5].split(".")[0];const a=`https://cdn.discordapp.com/banners/${p[4]}/${l}.${l.startsWith("a_")?"gif":"png"}?size=4096`;return d||u?e.createElement(e.Fragment,null,i):e.createElement(I,{onPress:()=>h.openURL(a)},i)}),S.after(V,"default",(t,o,i)=>{const u=N(i,a=>{var g;return(g=a==null?void 0:a.props)==null?void 0:g.customStatusActivity});if(!u)return i;const d=N(i,a=>{var g,s;return(s=(g=a==null?void 0:a[2])==null?void 0:g.props)==null?void 0:s.customStatusActivity});if(!d||m("AccountInfo","statusBtn",!1)||m("AccountInfo","masterDisable",!1))return i;const p=d[2].props.customStatusActivity,l=c("pending-alert");d[2]=e.createElement(I,{onPress:()=>{try{var a=p.emoji.name}catch{}R.setString(`${a?`:${a}:`:""} ${p.state?p.state:""}`),y.open({content:"Copied to clipboard",source:l})}},u)})},onStop(){S.unpatchAll(),R.setString("")},getSettingsPanel({settings:t}){return e.createElement(te,{settings:t})}};j(le);
