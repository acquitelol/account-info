const f=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const e=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const y=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const K=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const S=window.enmity.modules.common.Moment,{components:t}=window.enmity;t.Alert,t.Button,t.FlatList,t.Image,t.ImageBackground,t.KeyboardAvoidingView,t.Modal;const _=t.Pressable;t.RefreshControl;const Y=t.ScrollView;t.SectionList,t.StatusBar,t.StyleSheet,t.Switch;const h=t.Text;t.TextInput,t.TouchableHighlight,t.TouchableOpacity,t.TouchableWithoutFeedback,t.Touchable;const B=t.View;t.VirtualizedList,t.Form,t.FormArrow,t.FormCTA,t.FormCTAButton,t.FormCardSection,t.FormCheckbox;const C=t.FormDivider;t.FormHint,t.FormIcon,t.FormInput,t.FormLabel,t.FormRadio;const r=t.FormRow,j=t.FormSection;t.FormSelect,t.FormSubLabel;const N=t.FormSwitch;t.FormTernaryCheckBox,t.FormText,t.FormTextColors,t.FormTextSizes;function q(o){window.enmity.plugins.registerPlugin(o)}function s(o){return window.enmity.assets.getIDByName(o)}const g={byProps:(...o)=>window.enmity.modules.filters.byProps(...o),byName:(o,n)=>window.enmity.modules.filters.byName(o,n),byTypeName:(o,n)=>window.enmity.modules.filters.byTypeName(o,n),byDisplayName:(o,n)=>window.enmity.modules.filters.byDisplayName(o,n)};function W(...o){return window.enmity.modules.bulk(...o)}function D(...o){return window.enmity.modules.getByProps(...o)}window.enmity.modules.common;function X(o){return window.enmity.patcher.create(o)}var J="AccountInfo",Q="Test 1.3.7",Z="Shows Account Information and Account Assets.",ee=[{name:"acquite",id:"581573474296791211"}],te="#ff1f84",oe={name:J,version:Q,description:Z,authors:ee,color:te},ne=({settings:o})=>{const n=s("ic_selection_checked_24px");return e.createElement(e.Fragment,null,e.createElement(Y,null,e.createElement(j,{title:"Enable Dedicated Buttons"},e.createElement(r,{label:"Profile Picture",trailing:e.createElement(N,{value:o.getBoolean("pfpBtn",!1),onValueChange:()=>{o.toggle("pfpBtn",!1),y.open({content:"Toggled Profile Picture Button",source:n})}})}),e.createElement(C,null),e.createElement(r,{label:"Status",trailing:e.createElement(N,{value:o.getBoolean("statusBtn",!1),onValueChange:()=>{o.toggle("statusBtn",!1),y.open({content:"Toggled Status Button",source:n})}})}))))};function F(o,n,m){return window.enmity.settings.getBoolean(o,n,m)}const[ie,me,le,x,M,re]=W(g.byDisplayName("UserProfileHeader",!1),g.byProps("getMember"),g.byProps("getGuild"),g.byProps("transitionToGuild"),g.byProps("setString"),g.byName("HeaderAvatar",!1)),T=X("account-info"),k=D("getStatus","getState"),ae=D("customStatusActivity"),ce={...oe,onStart(){T.instead(ie,"default",(o,n,m)=>{var c,d,a,u;let p=F("AccountInfo","pfpBtn",!1),A=F("AccountInfo","statusBtn",!1);const[{user:i,channel:b,type:V}]=n;if(V!==0)return m.apply(o,n);const l=K.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:f.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:f.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:f.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:f.ThemeColorMap.TEXT_MUTED},icon:{color:f.ThemeColorMap.INTERACTIVE_NORMAL}}),U=s("img_nitro_profile_banner"),G=s("pending-alert"),H=s("toast_copy_link"),P=s("ic_header_members_add_24px"),L=s("ic_leave_24px"),v=b==null?void 0:b.guild_id,w=v&&me.getMember(b.guild_id,i.id),I=v&&le.getGuild(b.guild_id),E=v?((c=w==null?void 0:w.getAvatarURL)==null?void 0:c.call(w,!1,4096,!0))||((d=i==null?void 0:i.getAvatarURL)==null?void 0:d.call(i,!1,4096,!0)):(a=i==null?void 0:i.getAvatarURL)==null?void 0:a.call(i,!1,4096,!0);if(!E)return m.apply(o,n);const O=i.discriminator%5,$=typeof E=="number"?`https://cdn.discordapp.com/embed/avatars/${O}.png`:E==null?void 0:E.replace(".webp",".png"),R=k.getActivities(i.id).find(z=>z.type===4);return e.createElement(e.Fragment,null,m.apply(o,n),e.createElement(B,{style:l.container},e.createElement(h,{style:l.header},"Account Information"),e.createElement(B,{style:l.information},e.createElement(r,{label:"Created",leading:e.createElement(r.Icon,{style:l.icon,source:P}),onPress:()=>{y.open({content:S(i.createdAt).format("LLL"),source:P})},trailing:()=>e.createElement(h,{style:l.item},S(i.createdAt).fromNow())}),v&&w&&e.createElement(e.Fragment,null,e.createElement(C,null),e.createElement(r,{label:`Joined ${(u=I==null?void 0:I.name)!=null?u:""}`,leading:e.createElement(r.Icon,{style:l.icon,source:L}),onPress:()=>{y.open({content:S(w.joinedAt).format("LLL"),source:L})},trailing:()=>e.createElement(h,{style:l.item},S(w.joinedAt).fromNow())}))),p||A?e.createElement(e.Fragment,null,e.createElement(h,{style:l.header},"Account Assets"),e.createElement(B,{style:l.information},p&&e.createElement(r,{label:`View ${i.username}'s Profile Picture`,leading:e.createElement(r.Icon,{style:l.icon,source:U}),onPress:()=>{x.openURL($)}}),p&&A&&e.createElement(C,null),R&&A&&e.createElement(e.Fragment,null,e.createElement(r,{label:`Copy ${i.username}'s Status`,leading:e.createElement(r.Icon,{style:l.icon,source:H}),onPress:()=>{M.setString(R.state),y.open({content:"Copied to clipboard",source:G})}})))):e.createElement(e.Fragment,null)))}),T.after(re,"default",(o,[{user:n}],m)=>{var c;let d=F("AccountInfo","pfpBtn",!1);const a=(c=n==null?void 0:n.getAvatarURL)==null?void 0:c.call(n,!1,4096,!0);if(!a)return m;const u=n.discriminator%5,p=typeof a=="number"?`https://cdn.discordapp.com/embed/avatars/${u}.png`:a==null?void 0:a.replace(".webp",".png");return d?e.createElement(e.Fragment,null,m):e.createElement(_,{onPress:()=>x.openURL(p)},m)}),T.after(ae,"default",(o,[{user:n}],m)=>{let c=F("AccountInfo","statusBtn",!1);const d=s("pending-alert"),a=k.getActivities(n.id).find(u=>u.type===4);return c?e.createElement(_,{onPress:()=>{M.setString(a.state),y.open({content:"Copied to clipboard",source:d})}},m):e.createElement(e.Fragment,null,m)})},onStop(){T.unpatchAll()},getSettingsPanel({settings:o}){return e.createElement(ne,{settings:o})}};q(ce);
