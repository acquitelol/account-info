const v=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const e=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const c=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const K=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const T=window.enmity.modules.common.Moment,{components:t}=window.enmity;t.Alert,t.Button,t.FlatList,t.Image,t.ImageBackground,t.KeyboardAvoidingView,t.Modal;const x=t.Pressable;t.RefreshControl;const W=t.ScrollView;t.SectionList,t.StatusBar,t.StyleSheet,t.Switch;const F=t.Text;t.TextInput,t.TouchableHighlight,t.TouchableOpacity,t.TouchableWithoutFeedback,t.Touchable;const _=t.View;t.VirtualizedList,t.Form,t.FormArrow,t.FormCTA,t.FormCTAButton,t.FormCardSection,t.FormCheckbox;const A=t.FormDivider;t.FormHint,t.FormIcon,t.FormInput,t.FormLabel,t.FormRadio;const l=t.FormRow,M=t.FormSection;t.FormSelect,t.FormSubLabel;const B=t.FormSwitch;t.FormTernaryCheckBox,t.FormText,t.FormTextColors,t.FormTextSizes;function Q(n){window.enmity.plugins.registerPlugin(n)}function u(n){return window.enmity.assets.getIDByName(n)}const y={byProps:(...n)=>window.enmity.modules.filters.byProps(...n),byName:(n,o)=>window.enmity.modules.filters.byName(n,o),byTypeName:(n,o)=>window.enmity.modules.filters.byTypeName(n,o),byDisplayName:(n,o)=>window.enmity.modules.filters.byDisplayName(n,o)};function X(...n){return window.enmity.modules.bulk(...n)}function Z(...n){return window.enmity.modules.getByProps(...n)}window.enmity.modules.common;function ee(n){return window.enmity.patcher.create(n)}var te="AccountInfo",$="1.4.3",ne="Shows Account Information and Account Assets.",k="development",oe=[{name:"acquite",id:"581573474296791211"}],le="#ff1f84",ie={name:te,version:$,description:ne,release:k,authors:oe,color:le},me=({settings:n})=>{const o=u("ic_selection_checked_24px");return e.createElement(e.Fragment,null,e.createElement(W,null,e.createElement(M,{title:"Enable Account Date Information"},e.createElement(l,{label:"Time of Creation",trailing:e.createElement(B,{value:n.getBoolean("createBtn",!0),onValueChange:()=>{n.toggle("createBtn",!0),c.open({content:"Toggled Time of Creation",source:o})}})}),e.createElement(A,null),e.createElement(l,{label:"Time of Joining Server",trailing:e.createElement(B,{value:n.getBoolean("joinBtn",!0),onValueChange:()=>{n.toggle("joinBtn",!0),c.open({content:"Toggled Time of Joining Server",source:o})}})})),e.createElement(M,{title:"Enable Dedicated Buttons"},e.createElement(l,{label:"Profile Picture",trailing:e.createElement(B,{value:n.getBoolean("pfpBtn",!1),onValueChange:()=>{n.toggle("pfpBtn",!1),c.open({content:"Toggled Profile Picture Button",source:o})}})}),e.createElement(A,null),e.createElement(l,{label:"Status",trailing:e.createElement(B,{value:n.getBoolean("statusBtn",!1),onValueChange:()=>{n.toggle("statusBtn",!1),c.open({content:"Toggled Status Button",source:o})}})})),e.createElement(l,{label:`Plugin Version: ${$}`}),e.createElement(l,{label:`Release Channel: ${k}`})))};function p(n,o,m){return window.enmity.settings.getBoolean(n,o,m)}const[re,ae,ce,j,U,se]=X(y.byDisplayName("UserProfileHeader",!1),y.byProps("getMember"),y.byProps("getGuild"),y.byProps("transitionToGuild"),y.byProps("setString"),y.byName("HeaderAvatar",!1)),C=ee("account-info"),P=Z("getStatus","getState"),de={...ie,onStart(){C.instead(re,"default",(n,o,m)=>{var s,g,r,w;console.log(P);let f=p("AccountInfo","pfpBtn",!1),I=p("AccountInfo","statusBtn",!1),L=p("AccountInfo","createBtn",!0),R=p("AccountInfo","joinBtn",!0);const[{user:i,channel:S,type:G}]=o;if(G!==0)return m.apply(n,o);const a=K.createThemedStyleSheet({container:{marginLeft:15.5,marginRight:15.5,marginTop:17.5},header:{color:v.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontFamily:v.Fonts.DISPLAY_BOLD,textTransform:"uppercase",fontSize:12.75,letterSpacing:.25},information:{borderRadius:4,backgroundColor:v.ThemeColorMap.BACKGROUND_TERTIARY,marginTop:10,marginBottom:10},item:{color:v.ThemeColorMap.TEXT_MUTED},icon:{color:v.ThemeColorMap.INTERACTIVE_NORMAL}}),H=u("img_nitro_profile_banner"),O=u("pending-alert"),z=u("toast_copy_link"),N=u("ic_header_members_add_24px"),D=u("ic_leave_24px"),E=S==null?void 0:S.guild_id,d=E&&ae.getMember(S.guild_id,i.id),V=E&&ce.getGuild(S.guild_id),h=E?((s=d==null?void 0:d.getAvatarURL)==null?void 0:s.call(d,!1,4096,!0))||((g=i==null?void 0:i.getAvatarURL)==null?void 0:g.call(i,!1,4096,!0)):(r=i==null?void 0:i.getAvatarURL)==null?void 0:r.call(i,!1,4096,!0);if(!h)return m.apply(n,o);const J=i.discriminator%5,Y=typeof h=="number"?`https://cdn.discordapp.com/embed/avatars/${J}.png`:h==null?void 0:h.replace(".webp",".png"),b=P.getActivities(i.id).find(q=>q.type===4);return e.createElement(e.Fragment,null,m.apply(n,o),e.createElement(_,{style:a.container},L||R?e.createElement(e.Fragment,null,e.createElement(F,{style:a.header},"Account Information"),e.createElement(_,{style:a.information},L&&e.createElement(e.Fragment,null,e.createElement(l,{label:"Created",leading:e.createElement(l.Icon,{style:a.icon,source:N}),onPress:()=>{c.open({content:T(i.createdAt).format("LLL"),source:N})},trailing:()=>e.createElement(F,{style:a.item},T(i.createdAt).fromNow())})),L&&R&&E&&d&&e.createElement(A,null),R&&E&&d&&e.createElement(e.Fragment,null,e.createElement(l,{label:`Joined ${(w=V==null?void 0:V.name)!=null?w:""}`,leading:e.createElement(l.Icon,{style:a.icon,source:D}),onPress:()=>{c.open({content:T(d.joinedAt).format("LLL"),source:D})},trailing:()=>e.createElement(F,{style:a.item},T(d.joinedAt).fromNow())})))):e.createElement(e.Fragment,null),f||I?e.createElement(e.Fragment,null,e.createElement(F,{style:a.header},"Account Assets"),e.createElement(_,{style:a.information},f&&e.createElement(l,{label:`View ${i.username}'s Profile Picture`,leading:e.createElement(l.Icon,{style:a.icon,source:H}),onPress:()=>{j.openURL(Y)}}),f&&I&&e.createElement(A,null),b&&I&&e.createElement(e.Fragment,null,e.createElement(l,{label:`Copy ${i.username}'s Status`,leading:e.createElement(l.Icon,{style:a.icon,source:z}),onPress:()=>{U.setString(`${b.emoji.name?`:${b.emoji.name}:`:""} ${b.state?b.state:""}`),c.open({content:"Copied to clipboard",source:O})}})))):e.createElement(e.Fragment,null)))}),C.after(se,"default",(n,[{user:o}],m)=>{var s;let g=p("AccountInfo","pfpBtn",!1);const r=(s=o==null?void 0:o.getAvatarURL)==null?void 0:s.call(o,!1,4096,!0);if(!r)return m;const w=o.discriminator%5,f=typeof r=="number"?`https://cdn.discordapp.com/embed/avatars/${w}.png`:r==null?void 0:r.replace(".webp",".png");return g?e.createElement(e.Fragment,null,m):e.createElement(x,{onPress:()=>j.openURL(f)},m)}),C.after(P,"render",(n,[{user:o}],m)=>{let s=p("AccountInfo","statusBtn",!1);const g=u("pending-alert"),r=P.getActivities(o.id).find(w=>w.type===4);return s?e.createElement(e.Fragment,null,m):e.createElement(x,{onPress:()=>{U.setString(`${r.emoji.name?`:${r.emoji.name}:`:""} ${r.state?r.state:""}`),c.open({content:"Copied to clipboard",source:g})}},m)})},onStop(){C.unpatchAll()},getSettingsPanel({settings:n}){return e.createElement(me,{settings:n})}};Q(de);
